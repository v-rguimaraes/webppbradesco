/*!
 * Application Insights JavaScript SDK - Core, 2.7.2
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}))}(this,function(l){"use strict";var o={Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5},a="function",u="object",n="undefined",s="prototype",r="hasOwnProperty",t=Object,i=t[s],c=t.assign,f=t.create,e=t.defineProperty,g=i[r];function d(){return typeof globalThis!==n&&globalThis?globalThis:typeof self!==n&&self?self:typeof window!==n&&window?window:typeof global!==n&&global?global:null}function v(e){throw new TypeError(e)}function p(e){if(f)return f(e);if(null==e)return{};var n=typeof e;function t(){}return n!==u&&n!==a&&v("Object prototype may only be an Object:"+e),t[s]=e,new t}(d()||{}).Symbol,(d()||{}).Reflect;var h=function(e,n){return(h=t.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n[r](t)&&(e[t]=n[t])})(e,n)};function y(e,n){function t(){this.constructor=e}typeof n!==a&&null!==n&&v("Class extends value "+n+" is not a constructor or null"),h(e,n),e[s]=null===n?p(n):(t[s]=n[s],new t)}function C(e,n){for(var t=0,r=n.length,i=e.length;t<r;t++,i++)e[i]=n[t];return e}var m="constructor",x="prototype",S="function",b="_dynInstFuncs",T="_isDynProxy",w="_dynClass",I="_dynInstChk",E=I,N="_dfOpts",L="_unknown_",P="__proto__",M="useBaseInst",k="setInstFuncs",A=Object,F=A.getPrototypeOf,_=0;function R(e,n){return e&&A[x].hasOwnProperty.call(e,n)}function O(e){return e&&(e===A[x]||e===Array[x])}function D(e){return O(e)||e===Function[x]}function j(e){if(e){if(F)return F(e);e=e[P]||e[x]||(e[m]?e[m][x]:null);if(e)return e}return null}function U(e,n){var t=[],r=A.getOwnPropertyNames;if(r)t=r(e);else for(var i in e)"string"==typeof i&&R(e,i)&&t.push(i);if(t&&0<t.length)for(var o=0;o<t.length;o++)n(t[o])}function z(e,n,t){return n!==m&&typeof e[n]===S&&(t||R(e,n))}function B(e){throw new TypeError("DynamicProto: "+e)}function K(e,n){for(var t=e.length-1;0<=t;t--)if(e[t]===n)return 1}function q(e,n){return R(e,x)?e.name||n||L:((e||{})[m]||{}).name||n||L}function V(e,r,n,t){R(e,x)||B("theClass is an invalid class definition.");var i=e[x];!function(e){if(F)for(var n=[],t=j(r);t&&!D(t)&&!K(n,t);){if(t===e)return 1;n.push(t),t=j(t)}}(i)&&B("["+q(e)+"] is not in class hierarchy of ["+q(r)+"]");var o=null;R(i,w)?o=i[w]:(o="_dynCls$"+q(e,"_")+"$"+_,_++,i[w]=o);var a=V[N],u=!!a[M];u&&t&&t[M]!==undefined&&(u=!!t[M]);var s,c,e=(c={},U(s=r,function(e){!c[e]&&z(s,e,!1)&&(c[e]=s[e])}),c);n(r,function(e,n,t,o){function r(e,n,t){var r,i=n[t];return i[T]&&o&&!1!==(r=e[b]||{})[E]&&(i=(r[n[w]]||{})[t]||i),function(){return i.apply(e,arguments)}}var i={};U(t,function(e){i[e]=r(n,t,e)});for(var a=j(e),u=[];a&&!D(a)&&!K(u,a);)U(a,function(e){!i[e]&&z(a,e,!F)&&(i[e]=r(n,a,e))}),u.push(a),a=j(a);return i}(i,r,e,u));var l,f,g,d,a=!!F&&!!a[k];l=i,o=o,f=r,g=e,t=!1!==(a=a&&t?!!t[k]:a),O(l)||(a=f[b]=f[b]||{},d=a[o]=a[o]||{},!1!==a[E]&&(a[E]=!!t),U(f,function(e){var t,r,i;z(f,e,!1)&&f[e]!==g[e]&&(d[e]=f[e],delete f[e],R(l,e)&&(!l[e]||l[e][T])||(l[e]=(t=l,r=e,(i=function(){var e,n;return(function(e,n,t,r){var i=null;if(e&&R(t,w)){var o=e[b]||{};if((i=(o[t[w]]||{})[n])||B("Missing ["+n+"] "+S),!i[I]&&!1!==o[E]){for(var a=!R(e,n),u=j(e),s=[];a&&u&&!D(u)&&!K(s,u);){var c=u[n];if(c){a=c===r;break}s.push(u),u=j(u)}try{a&&(e[n]=i),i[I]=1}catch(l){o[E]=!1}}}return i}(this,r,t,i)||(typeof(n=(n=t[e=r])===i?j(t)[e]:n)!==S&&B("["+e+"] is not a "+S),n)).apply(this,arguments)})[T]=1,i)))}))}V[N]={setInstFuncs:!0,useBaseInst:!0},l.LoggingSeverity=void 0,(wt=l.LoggingSeverity||(l.LoggingSeverity={}))[wt.CRITICAL=1]="CRITICAL",wt[wt.WARNING=2]="WARNING";var G={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},W="on",H="attachEvent",J="addEventListener",X="detachEvent",Q="removeEventListener",$=e,Z=t.freeze,Y=t.seal;function ee(e){return i.toString.call(e)}function ne(e,n){return typeof e===n}function te(e){return e===undefined||typeof e===n}function re(e){return null===e||te(e)}function ie(e){return!re(e)}function oe(e,n){return e&&g.call(e,n)}function ae(e){return typeof e===u}function ue(e){return typeof e===a}function se(e,n,t,r){void 0===r&&(r=!1);var i=!1;if(!re(e))try{re(e[J])?re(e[H])||(e[H](W+n,t),i=!0):(e[J](n,t,r),i=!0)}catch(o){}return i}function ce(e,n,t,r){if(void 0===r&&(r=!1),!re(e))try{re(e[Q])?re(e[X])||e[X](W+n,t):e[Q](n,t,r)}catch(i){}}function le(e,n){if(e)for(var t in e)g.call(e,t)&&n.call(e,t,e[t])}function fe(e,n){if(e&&n){var t=n.length,r=e.length;if(e===n)return!0;if(t<=r){for(var i=r-1,o=t-1;0<=o;o--){if(e[i]!=n[o])return!1;i--}return!0}}return!1}function ge(e,n){return!(!e||!n||!~e.indexOf(n))}function de(e){return"[object Date]"===ee(e)}function ve(e){return"[object Array]"===ee(e)}function pe(e){return"[object Error]"===ee(e)}function he(e){return"string"==typeof e}function ye(e){return"number"==typeof e}function Ce(e){return"boolean"==typeof e}function me(e){if(de(e)){var n=function(e){e=""+e;return 1===e.length?"0"+e:e};return e.getUTCFullYear()+"-"+n(1+e.getUTCMonth())+"-"+n(e.getUTCDate())+"T"+n(e.getUTCHours())+":"+n(e.getUTCMinutes())+":"+n(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}function xe(e,n,t){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===n.call(t||e,e[i],i,e));i++);}catch(o){}}function Se(e,n,t){var r=e.length,t=t||0;try{for(var i=Math.max(0<=t?t:r-Math.abs(t),0);i<r;i++)if(i in e&&e[i]===n)return i}catch(o){}return-1}function be(e,n,t){var r=e.length,i=t||e,o=Array(r);try{for(var a=0;a<r;a++)a in e&&(o[a]=n.call(i,e[a],e))}catch(u){}return o}function Te(e,n,t){var r,i=e.length,o=0;if(3<=arguments.length)r=t;else{for(;o<i&&!(o in e);)o++;r=e[o++]}for(;o<i;)o in e&&(r=n(r,e[o],o,e)),o++;return r}function we(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}var Ie=!{toString:null}.propertyIsEnumerable("toString"),Ee=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"];function Ne(e){var n=typeof e;n===a||n===u&&null!==e||v("objKeys called on non-object");var t,r=[];for(t in e)e&&g.call(e,t)&&r.push(t);if(Ie)for(var i=Ee.length,o=0;o<i;o++)e&&g.call(e,Ee[o])&&r.push(Ee[o]);return r}function Le(e,n,t,r){if($)try{var i={enumerable:!0,configurable:!0};return t&&(i.get=t),r&&(i.set=r),$(e,n,i),!0}catch(o){}return!1}function Pe(){var e=Date;return e.now?e.now():(new e).getTime()}function Me(e){return pe(e)?e.name:""}function ke(e,n,t,r,i){var o=t;return e&&((o=e[n])===t||i&&!i(o)||r&&!r(t)||(e[n]=o=t)),o}function Ae(e,n,t){var r;return e?!(r=e[n])&&re(r)&&(r=te(t)?{}:t,e[n]=r):r=te(t)?{}:t,r}function Fe(e){return!e}function _e(e){return!!e}function Re(e){throw Error(e)}var Oe="window",De="navigator",je="location",Ue="performance",ze="JSON",Be="crypto",Ke="msCrypto",qe="msie",Ve="trident/",Ge=null,We=null,He=!1,Je=null,Xe=null;function Qe(e,n){var t,r=!1;if(e){try{(r=n in e)||(t=e[s])&&(r=n in t)}catch(i){}if(!r)try{r=!te((new e)[n])}catch(i){}}return r}function $e(e){var n=d();return n&&n[e]?n[e]:e===Oe&&Ze()?window:null}function Ze(){return!(typeof window!==u||!window)}function Ye(){return Ze()?window:$e(Oe)}function en(){return!(typeof document!==u||!document)}function nn(){return en()?document:$e("document")}function tn(){return!(typeof navigator!==u||!navigator)}function rn(){return tn()?navigator:$e(De)}function on(){return!(typeof history!==u||!history)}function an(e){if(e&&He){e=$e("__mockLocation");if(e)return e}return typeof location===u&&location?location:$e(je)}function un(){return typeof console!==n?console:$e("console")}function sn(){return $e(Ue)}function cn(){return!!(typeof JSON===u&&JSON||null!==$e(ze))}function ln(){return cn()?JSON||$e(ze):null}function fn(){return $e(Be)}function gn(){return $e(Ke)}function dn(){var e=rn();return!e||e.userAgent===We&&null!==Ge||(e=((We=e.userAgent)||"").toLowerCase(),Ge=ge(e,qe)||ge(e,Ve)),Ge}function vn(e){var n=Object[s].toString.call(e),t="";return"[object Error]"===n?t="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":cn()&&(t=ln().stringify(e)),n+t}function pn(){var e=!1;try{e=!!$e("XMLHttpRequest")}catch(n){}return e}var hn,yn=["eventsSent","eventsDiscarded","eventsSendRequest","perfEvent"],Cn=null;function mn(e){var n=Cn;return(n=n||!0===e.disableDbgExt?n:Cn||(e=$e("Microsoft"),Cn=e?e.ApplicationInsights:Cn))?n.ChromeDbgExt:null}function xn(e){if(!hn){hn={};for(var n=0;n<yn.length;n++)hn[yn[n]]=function(n,t){return function(){var e=mn(t);!e||(e=e.listener)&&e[n]&&e[n].apply(e,arguments)}}(yn[n],e)}return hn}function Sn(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function bn(e,n){var t,r=un();r&&(t="log",ue(r[t=r[e]?e:t])&&r[t](n))}var Tn=(wn.dataType="MessageData",wn);function wn(e,n,t,r){void 0===t&&(t=!1),this.messageId=e,this.message=(t?"AI: ":"AI (Internal): ")+e;e="";cn()&&(e=ln().stringify(r));e=(n?" message:"+Sn(n):"")+(r?" props:"+Sn(e):"");this.message+=e}function In(e,n){return(e||{}).logger||new En(n)}var En=function ur(r){this.identifier="DiagnosticLogger",this.queue=[];var i=0,u={};V(ur,this,function(o){function e(e,n){e=r[e];return re(e)?n:e}function a(e,n){var t=mn(r);t&&t.diagLog&&t.diagLog(e,n)}re(r)&&(r={}),o.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},o.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},o.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},o.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},o.throwInternal=function(e,n,t,r,i){n=new Tn(n,t,i=void 0!==i&&i,r);if(o.enableDebugExceptions())throw n;t=e===l.LoggingSeverity.CRITICAL?"errorToConsole":"warnToConsole";te(n.message)?a("throw"+(e===l.LoggingSeverity.CRITICAL?"Critical":"Warning"),n):(r=o.consoleLoggingLevel(),i?(i=+n.messageId,!u[i]&&e<=r&&(o[t](n.message),u[i]=!0)):e<=r&&o[t](n.message),o.logInternalMessage(e,n))},o.warnToConsole=function(e){bn("warn",e),a("warning",e)},o.errorToConsole=function(e){bn("error",e),a("error",e)},o.resetInternalMessageCount=function(){i=0,u={}},o.logInternalMessage=function(e,n){var t,r;i>=o.maxInternalMessageLimit()||(r=!0,t="AITR_"+n.messageId,u[t]?r=!1:u[t]=!0,r&&(e<=o.telemetryLoggingLevel()&&(o.queue.push(n),i++,a(e===l.LoggingSeverity.CRITICAL?"error":"warn",n)),i===o.maxInternalMessageLimit()&&(n=new Tn(G.MessageLimitPerPVExceeded,r="Internal events throttle limit per PageView reached for this app.",!1),o.queue.push(n),e===l.LoggingSeverity.CRITICAL?o.errorToConsole(r):o.warnToConsole(r))))}})},Nn=null,Ln=(Pn.ParentContextKey="parent",Pn.ChildrenContextKey="childEvts",Pn);function Pn(e,i,n){var t,o=this,a=!1;o.start=Pe(),o.name=e,o.isAsync=n,o.isChildEvt=function(){return!1},ue(i)&&(a=Le(o,"payload",function(){return!t&&ue(i)&&(t=i(),i=null),t})),o.getCtx=function(e){return e?(e===Pn.ParentContextKey||e===Pn.ChildrenContextKey?o:o.ctx||{})[e]:null},o.setCtx=function(e,n){e&&(e===Pn.ParentContextKey?(o[e]||(o.isChildEvt=function(){return!0}),o[e]=n):e===Pn.ChildrenContextKey?o[e]=n:(o.ctx=o.ctx||{})[e]=n)},o.complete=function(){var e=0,n=o.getCtx(Pn.ChildrenContextKey);if(ve(n))for(var t=0;t<n.length;t++){var r=n[t];r&&(e+=r.time)}o.time=Pe()-o.start,o.exTime=o.time-e,o.complete=function(){},!a&&ue(i)&&(o.payload=i())}}var Mn=function sr(n){this.ctx={},V(sr,this,function(t){t.create=function(e,n,t){return new Ln(e,n,t)},t.fire=function(e){e&&(e.complete(),n&&ue(n.perfEvent)&&n.perfEvent(e))},t.setCtx=function(e,n){e&&((t.ctx=t.ctx||{})[e]=n)},t.getCtx=function(e){return(t.ctx||{})[e]}})},kn="CoreUtils.doPerf";function An(e,n,t,r,i){if(e){var o=e;if(o=ue(o.getPerfMgr)?o.getPerfMgr():o){var a,u=void 0,e=o.getCtx(kn);try{if(u=o.create(n(),r,i))return e&&u.setCtx&&(u.setCtx(Ln.ParentContextKey,e),e.getCtx&&e.setCtx&&((a=e.getCtx(Ln.ChildrenContextKey))||(a=[],e.setCtx(Ln.ChildrenContextKey,a)),a.push(u))),o.setCtx(kn,u),t(u)}catch(s){u&&u.setCtx&&u.setCtx("exception",s)}finally{u&&o.fire(u),o.setCtx(kn,e)}}}return t()}var Fn=function(i,n){var o=this,a=null,u=ue(i.processTelemetry),s=ue(i.setNextPlugin);o._hasRun=!1,o.getPlugin=function(){return i},o.getNext=function(){return a},o.setNext=function(e){a=e},o.processTelemetry=function(t,r){r=r||n;var e=i?i.identifier:"TelemetryPluginChain";An(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&u){o._hasRun=!0;try{r.setNext(a),s&&i.setNextPlugin(a),a&&(a._hasRun=!1),i.processTelemetry(t,r)}catch(n){var e=a&&a._hasRun;a&&e||r.diagLog().throwInternal(l.LoggingSeverity.CRITICAL,G.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+vn(n)),a&&!e&&a.processTelemetry(t,r)}}else a&&(o._hasRun=!0,a.processTelemetry(t,r))},function(){return{item:t}},!t.sync)}};function _n(e,n){var t=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var o=e[i];o&&ue(o.processTelemetry)&&(o=new Fn(o,n),t.push(o),r&&r.setNext(o),r=o)}return 0<t.length?t[0]:null}var Rn=function cr(e,i,t,n){var r,o,a,u,s=this,c=null;null!==n&&(e&&ue(e.getPlugin)?c=function(e,n,t){var r=[],i=!t;if(e)for(;e;){var o=e.getPlugin();!i&&o!==t||(i=!0,r.push(o)),e=e.getNext()}return i||r.push(t),_n(r,n)}(e,s,n||e.getPlugin()):n?(r=s,a=e,u=!1,(o=n)&&e&&(a=[],xe(e,function(e){!u&&e!==o||(u=!0,a.push(e))})),o&&!u&&(a=a||[]).push(o),c=_n(a,r)):te(n)&&(c=_n(e,s))),s.core=function(){return t},s.diagLog=function(){return In(t,i)},s.getCfg=function(){return i},s.getExtCfg=function(e,n){var t,r;return void 0===n&&(n={}),!i||(r=i.extensionConfig)&&e&&(t=r[e]),t||n},s.getConfig=function(e,n,t){var r;void 0===t&&(t=!1);e=s.getExtCfg(e,null);return e&&!re(e[n])?r=e[n]:i&&!re(i[n])&&(r=i[n]),re(r)?t:r},s.hasNext=function(){return null!=c},s.getNext=function(){return c},s.setNext=function(e){c=e},s.processNext=function(e){var n=c;n&&(c=n.getNext(),n.processTelemetry(e,s))},s.createNew=function(e,n){return new cr((e=void 0===e?null:e)||c,i,t,n)}},On="extensionConfig",Dn="getPlugin",jn=(Un.prototype.initialize=function(e,n,t,r){this._baseTelInit(e,n,t,r)},Un);function Un(){var o=this,a=!1,u=null,s=null;o.core=null,o.diagLog=function(e){return o._getTelCtx(e).diagLog()},o.isInitialized=function(){return a},o.setInitialized=function(e){a=e},o.setNextPlugin=function(e){s=e},o.processNext=function(e,n){n?n.processNext(e):s&&ue(s.processTelemetry)&&s.processTelemetry(e,null)},o._getTelCtx=function(e){var n=e=void 0===e?null:e;return n||(e=u||new Rn(null,{},o.core),n=s&&s[Dn]?e.createNew(null,s[Dn]):e.createNew(null,s)),n},o._baseTelInit=function(e,n,t,r){e&&ke(e,On,[],null,re),!r&&n&&(r=n.getProcessTelContext().getNext());var i=s;s&&s[Dn]&&(i=s[Dn]()),o.core=n,u=new Rn(r,e,n,i),a=!0}}var zn="processTelemetry",Bn="priority",Kn="setNextPlugin",qn="isInitialized";function Vn(n,t){for(var e=[],r=null,i=n.getNext();i;){var o=i.getPlugin();o&&(r&&ue(r[Kn])&&ue(o[zn])&&r[Kn](o),ue(o[qn])&&o[qn]()||e.push(o),r=o,i=i.getNext())}xe(e,function(e){e.initialize(n.getCfg(),n.core(),t,n.getNext())})}function Gn(e){return e.sort(function(e,n){var t=0,r=ue(n[zn]);return ue(e[zn])?t=r?e[Bn]-n[Bn]:1:r&&(t=-1),t})}var Wn,Hn=(y(Jn,Wn=jn),Jn._staticInit=(Le(Qt=Jn.prototype,"ChannelControls",Qt.getChannelControls),void Le(Qt,"channelQueue",Qt.getChannelControls)),Jn);function Jn(){var s,r=Wn.call(this)||this;function c(e){e&&0<e.length&&(xe(e=e.sort(function(e,n){return e.priority-n.priority}),function(e){e.priority<500&&Re("Channel has invalid priority"+e.identifier)}),s.push(e))}return r.identifier="ChannelControllerPlugin",r.priority=500,V(Jn,r,function(a,u){a.setNextPlugin=function(e){},a.processTelemetry=function(n,t){s&&xe(s,function(e){0<e.length&&r._getTelCtx(t).createNew(e).processNext(n)})},a.getChannelControls=function(){return s},a.initialize=function(n,t,r){var e,i,o;a.isInitialized()||(u.initialize(n,t,r),e=(n||{}).channels,i=r,s=[],e&&xe(e,c),i&&(o=[],xe(i,function(e){500<e.priority&&o.push(e)}),c(o)),xe(s,function(e){return Vn(new Rn(e,n,t),r)}))}}),r}var Xn="toGMTString",Qn="toUTCString",$n="cookie",Zn="expires",Yn="enabled",et="isCookieUseDisabled",nt="disableCookiesUsage",tt="_ckMgr",rt="",it=null,ot=null,at=null,ut=nn(),st={},ct={};function lt(e,n){var t=gt[tt]||ct[tt];return t||(t=gt[tt]=gt(e,n),ct[tt]=t),t}function ft(e){return!e||e.isEnabled()}function gt(e,i){var n,t,c=(ke(t=(n=e||ct).cookieCfg=n.cookieCfg||{},"domain",n.cookieDomain,ie,re),ke(t,"path",n.cookiePath||"/",null,re),re(t[Yn])&&(e=void 0,te(n[et])||(e=!n[et]),te(n[nt])||(e=!n[nt]),t[Yn]=e),t),l=c.path||"/",f=c.domain,r=!1!==c[Yn],g={isEnabled:function(){var e=r&&dt(i),n=ct[tt];return e&&n&&g!==n?ft(n):e},setEnabled:function(e){r=!1!==e},set:function(e,n,t,r,i){var o,a,u,s=!1;return ft(g)&&(o={},-1!=(u=(a=we(n||rt)).indexOf(";"))&&(a=we(n.substring(0,u)),o=vt(n.substring(1+u))),ke(o,"domain",r||f,_e,te),re(t)||(u=dn(),!te(o[Zn])||0<(n=Pe()+1e3*t)&&((r=new Date).setTime(n),ke(o,Zn,pt(r,u?Xn:Qn)||pt(r,u?Xn:Qn)||rt,_e)),u||ke(o,"max-age",rt+t,null,te)),(t=an())&&"https:"===t.protocol&&(ke(o,"secure",null,null,te),(ot=null===ot?!Ct((rn()||{}).userAgent):ot)&&ke(o,"SameSite","None",null,te)),ke(o,"path",i||l,null,te),(c.setCookie||yt)(e,ht(a,o)),s=!0),s},get:function(e){var n=rt;return ft(g)?(c.getCookie||function(e){var n,t=rt;return ut&&(n=ut[$n]||rt,at!==n&&(st=vt(n),at=n),t=we(st[e]||rt)),t})(e):n},del:function(e,n){return!!ft(g)&&g.purge(e,n)},purge:function(e,n){var t,r=!1;return dt(i)&&((t={}).path=n||"/",t[Zn]="Thu, 01 Jan 1970 00:00:01 GMT",t=t,dn()||(t["max-age"]="0"),(c.delCookie||yt)(e,ht(rt,t)),r=!0),r}};return g[tt]=g}function dt(e){if(null===it){it=!1;try{it=(ut||{})[$n]!==undefined}catch(n){e&&e.throwInternal(l.LoggingSeverity.WARNING,G.CannotAccessCookie,"Cannot access document.cookie - "+Me(n),{exception:vn(n)})}}return it}function vt(e){var t={};return e&&e.length&&xe(we(e).split(";"),function(e){var n;(e=we(e||rt))&&(-1==(n=e.indexOf("="))?t[e]=null:t[we(e.substring(0,n))]=we(e.substring(1+n)))}),t}function pt(e,n){return ue(e[n])?e[n]():null}function ht(e,n){var t=e||rt;return le(n,function(e,n){t+="; "+e+(re(n)?rt:"="+n)}),t}function yt(e,n){ut&&(ut[$n]=e+"="+n)}function Ct(e){return!(!he(e)||!ge(e,"CPU iPhone OS 12")&&!ge(e,"iPad; CPU OS 12")&&!(ge(e,"Macintosh; Intel Mac OS X 10_14")&&ge(e,"Version/")&&ge(e,"Safari"))&&(!ge(e,"Macintosh; Intel Mac OS X 10_14")||!fe(e,"AppleWebKit/605.1.15 (KHTML, like Gecko)"))&&!ge(e,"Chrome/5")&&!ge(e,"Chrome/6")&&(!ge(e,"UnrealEngine")||ge(e,"Chrome"))&&!ge(e,"UCBrowser/12")&&!ge(e,"UCBrowser/11"))}var mt="_notificationManager";function xt(e,n){return new Mn(n)}var St,bt=function lr(){var n,u,s,t,r,c=!1;V(lr,this,function(a){a._extensions=[],u=new Hn,a.logger=new En({loggingLevelConsole:l.LoggingSeverity.CRITICAL}),n=[],a.isInitialized=function(){return c},a.initialize=function(e,n,r,t){a.isInitialized()&&Re("Core should not be initialized more than once"),e&&!re(e.instrumentationKey)||Re("Please provide instrumentation key"),s=t,a[mt]=t,a.config=e||{},t&&!0!==a.config.disableDbgExt&&t.addNotificationListener(xn(e)),a.config.enablePerfMgr&&ke(a.config,"createPerfMgr",xt),e.extensions=re(e.extensions)?[]:e.extensions,Ae(e,On).NotificationManager=t,r&&(a.logger=r),(t=[]).push.apply(t,C(C([],n),e.extensions));var t=Gn(t),i=[],o={};xe(t,function(e){(re(e)||re(e.initialize))&&Re("Extensions must provide callback to initialize");var n=e.priority,t=e.identifier;e&&n&&(re(o[n])?o[n]=t:r.warnToConsole("Two extensions have same priority #"+n+" - "+o[n]+", "+t)),(!n||n<u.priority)&&i.push(e)}),t.push(u),i.push(u),t=Gn(t),a._extensions=t,Vn(new Rn([u],e,a),t),Vn(new Rn(i,e,a),t),a._extensions=i,0===a.getTransmissionControls().length&&Re("No channels available"),c=!0,a.releaseQueue()},a.getTransmissionControls=function(){return u.getChannelControls()},a.track=function(e){ke(e,"iKey",a.config.instrumentationKey,null,Fe),ke(e,"time",me(new Date),null,Fe),ke(e,"ver","4.0",null,re),a.isInitialized()?a.getProcessTelContext().processNext(e):n.push(e)},a.getProcessTelContext=function(){var e=a._extensions,n=e;return e&&0!==e.length||(n=[u]),new Rn(n,a.config,a)},a.getNotifyMgr=function(){return s||(s=p({addNotificationListener:function(e){},removeNotificationListener:function(e){},eventsSent:function(e){},eventsDiscarded:function(e,n){},eventsSendRequest:function(e,n){}}),a[mt]=s),s},a.getCookieMgr=function(){return r=r||gt(a.config,a.logger)},a.setCookieMgr=function(e){r=e},a.getPerfMgr=function(){return t||a.config&&a.config.enablePerfMgr&&ue(a.config.createPerfMgr)&&(t=a.config.createPerfMgr(a,a.getNotifyMgr())),t||Nn},a.setPerfMgr=function(e){t=e},a.eventCnt=function(){return n.length},a.releaseQueue=function(){0<n.length&&(xe(n,function(e){a.getProcessTelContext().processNext(e)}),n=[])}})},Tt=function fr(e){this.listeners=[];var n=!!(e||{}).perfEvtsSendAll;V(fr,this,function(i){i.addNotificationListener=function(e){i.listeners.push(e)},i.removeNotificationListener=function(e){for(var n=Se(i.listeners,e);-1<n;)i.listeners.splice(n,1),n=Se(i.listeners,e)},i.eventsSent=function(n){xe(i.listeners,function(e){e&&e.eventsSent&&setTimeout(function(){return e.eventsSent(n)},0)})},i.eventsDiscarded=function(n,t){xe(i.listeners,function(e){e&&e.eventsDiscarded&&setTimeout(function(){return e.eventsDiscarded(n,t)},0)})},i.eventsSendRequest=function(t,r){xe(i.listeners,function(e){if(e&&e.eventsSendRequest)if(r)setTimeout(function(){return e.eventsSendRequest(t,r)},0);else try{e.eventsSendRequest(t,r)}catch(n){}})},i.perfEvent=function(t){t&&(!n&&t.isChildEvt()||xe(i.listeners,function(e){if(e&&e.perfEvent)if(t.isAsync)setTimeout(function(){return e.perfEvent(t)},0);else try{e.perfEvent(t)}catch(n){}}))}})},wt=(y(It,St=bt),It);function It(){var e=St.call(this)||this,r=0;return V(It,e,function(t,i){function n(e){var n=t.getNotifyMgr();n&&n.eventsDiscarded([e],o.InvalidEvent)}t.initialize=function(e,n,t,r){i.initialize(e,n,t||new En(e),r||new Tt(e))},t.track=function(e){An(t.getPerfMgr(),function(){return"AppInsightsCore:track"},function(){null===e&&(n(e),Re("Invalid telemetry item")),function(){if(re(e.name))throw n(e),Error("telemetry name required")}(),i.track(e)},function(){return{item:e}},!e.sync)},t.addNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.addNotificationListener(e)},t.removeNotificationListener=function(e){var n=t.getNotifyMgr();n&&n.removeNotificationListener(e)},t.pollInternalLogs=function(n){var e=t.config.diagnosticLogInterval;return e&&0<e||(e=1e4),r&&t.stopPollingInternalLogs(),r=setInterval(function(){var e=t.logger?t.logger.queue:[];xe(e,function(e){e={name:n||"InternalMessageId: "+e.messageId,iKey:t.config.instrumentationKey,time:me(new Date),baseType:Tn.dataType,baseData:{message:e.message}};t.track(e)}),e.length=0},e)},t.stopPollingInternalLogs=function(){r&&(clearInterval(r),r=0)}}),e}var Et=4294967296,Nt=4294967295,Lt=!1,Pt=123456789,Mt=987654321;function kt(e){e<0&&(e>>>=0),Pt=123456789+e&Nt,Mt=987654321-e&Nt,Lt=!0}function At(){try{var e=2147483647&Pe();kt((Math.random()*Et^e)+e)}catch(n){}}function Ft(e){return 0<e?Math.floor(_t()/Nt*(e+1))>>>0:0}function _t(e){var n=fn()||gn(),n=n&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&Nt:dn()?(Lt||At(),Ot()&Nt):Math.floor(Et*Math.random()|0);return e||(n>>>=0),n}function Rt(e){e?kt(e):At()}function Ot(e){var n=((Mt=36969*(65535&Mt)+(Mt>>16)&Nt)<<16)+(65535&(Pt=18e3*(65535&Pt)+(Pt>>16)&Nt))>>>0&Nt|0;return e||(n>>>=0),n}var Dt,jt="visibilitychange",Ut="pagehide",zt="pageshow",Bt=null,e=n;function Kt(e,n){var t=!1,r=Ye();r&&(t=se(r,e,n),t=se(r.body,e,n)||t);r=nn();return r&&se(r,e,n)||t}function qt(e,n,t){var r,i=!1;return n&&e&&ve(e)&&(r=[],xe(e,function(e){he(e)&&(t&&-1!==Se(t,e)?r.push(e):i=Kt(e,n)||i)}),!i&&0<r.length&&(i=qt(r,n))),i}function Vt(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(Xt,function(e){var n=0|Ft(15);return("x"===e?n:3&n|8).toString(16)})}function Gt(){var e=sn();return e&&e.now?e.now():Pe()}function Wt(e){void 0===e&&(e=22);for(var n=_t()>>>0,t=0,r="";r.length<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&n]||"",n>>>=6,5==++t&&(n=(_t()<<2&4294967295|3&n)>>>0,t=0);return r}function Ht(){for(var e,n=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],t="",r=0;r<4;r++)t+=n[15&(e=_t())]+n[e>>4&15]+n[e>>8&15]+n[e>>12&15]+n[e>>16&15]+n[e>>20&15]+n[e>>24&15]+n[e>>28&15];var i=n[8+(3&_t())|0];return t.substr(0,8)+t.substr(9,4)+"4"+t.substr(13,3)+i+t.substr(16,3)+t.substr(19,12)}var Jt={_canUseCookies:undefined,isTypeof:ne,isUndefined:te,isNullOrUndefined:re,hasOwnProperty:oe,isFunction:ue,isObject:ae,isDate:de,isArray:ve,isError:pe,isString:he,isNumber:ye,isBoolean:Ce,toISOString:me,arrForEach:xe,arrIndexOf:Se,arrMap:be,arrReduce:Te,strTrim:we,objCreate:p,objKeys:Ne,objDefineAccessors:Le,addEventHandler:Kt,dateNow:Pe,isIE:dn,disableCookies:Zt,newGuid:Vt,perfNow:Gt,newId:Wt,randomValue:Ft,random32:_t,mwcRandomSeed:Rt,mwcRandom32:Ot,generateW3CId:Ht},Xt=/[xy]/g,Qt={Attach:se,AttachEvent:se,Detach:ce,DetachEvent:ce};function $t(e,n){e=lt(e,n),n=Jt._canUseCookies;return null===Bt&&(Bt=[],Dt=n,Le(Jt,"_canUseCookies",function(){return Dt},function(n){Dt=n,xe(Bt,function(e){e.setEnabled(n)})})),-1===Se(Bt,e)&&Bt.push(e),Ce(n)&&e.setEnabled(n),Ce(Dt)&&e.setEnabled(Dt),e}function Zt(){$t().setEnabled(!1)}var Yt="_aiHooks",er=["req","rsp","hkErr","fnErr"];function nr(e,n){if(e)for(var t=0;t<e.length&&!n(e[t],t);t++);}function tr(e,a,u,s,c){0<=c&&c<=2&&nr(e,function(e,n){var t=e.cbks,e=t[er[c]];if(e){a.ctx=function(){return s[n]=s[n]||{}};try{e.apply(a.inst,u)}catch(i){e=a.err;try{var r=t[er[2]];r&&(a.err=i,r.apply(a.inst,u))}catch(o){}finally{a.err=e}}}})}function rr(s){return function(){var t=arguments,e=s.h,r={name:s.n,inst:this,ctx:null,set:function(e,n){(t=o([],t))[e]=n,i=o([r],t)}},n=[],i=o([r],t);function o(n,e){return nr(e,function(e){n.push(e)}),n}tr(e,r,i,n,0);var a=s.f;try{r.rslt=a.apply(this,t)}catch(u){throw r.err=u,tr(e,r,i,n,3),u}return tr(e,r,i,n,1),r.rslt}}var ir=Object.getPrototypeOf;function or(e,n,t,r){if(void 0===r&&(r=!0),e&&n&&t){e=function o(e,n,t){var r=null;return e&&(oe(e,n)?r=e:t&&(r=o(function(e){if(e){if(ir)return ir(e);e=e.__proto__||e[s]||e.constructor;if(e)return e}return null}(e),n,!1))),r}(e,n,r);if(e){r=e[n];if(typeof r===a){var i=r[Yt];i||((r=rr(i={i:0,n:n,f:r,h:[]}))[Yt]=i,e[n]=r);t={id:i.i,cbks:t,rm:function(){var t=this.id;nr(i.h,function(e,n){return e.id===t&&(i.h.splice(n,1),1)})}};return i.i++,i.h.push(t),t}}}return null}function ar(n,e,t,r){void 0===r&&(r=!0);var i=null;return nr(e,function(e){e=or(n,e,t,r);e&&(i=i||[]).push(e)}),i}l.AppInsightsCore=wt,l.BaseCore=bt,l.BaseTelemetryPlugin=jn,l.CoreUtils=Jt,l.DiagnosticLogger=En,l.EventHelper=Qt,l.EventsDiscardedReason=o,l.InstrumentFunc=or,l.InstrumentFuncs=ar,l.InstrumentProto=function(e,n,t){return e?or(e[s],n,t,!1):null},l.InstrumentProtos=function(e,n,t){return e?ar(e[s],n,t,!1):null},l.MinChannelPriorty=100,l.NotificationManager=Tt,l.PerfEvent=Ln,l.PerfManager=Mn,l.ProcessTelemetryContext=Rn,l.Undefined=e,l._InternalLogMessage=Tn,l._InternalMessageId=G,l._legacyCookieMgr=$t,l.addEventHandler=Kt,l.addEventListeners=qt,l.addPageHideEventListener=function gr(t,e){var n=!1;return e&&-1!==Se(e,Ut)||(n=Kt(Ut,t)),!(n=(!e||-1===Se(e,jt))&&Kt(jt,function(e){var n=nn();t&&n&&"hidden"===n.visibilityState&&t(e)})||n)&&e?gr(t):n},l.addPageShowEventListener=function dr(t,e){var n=!1;return e&&-1!==Se(e,zt)||(n=Kt(zt,t)),!(n=(!e||-1===Se(e,jt))&&Kt(jt,function(e){var n=nn();t&&n&&"visible"===n.visibilityState&&t(e)})||n)&&e?dr(t):n},l.addPageUnloadEventListener=function(e,n){return qt(["beforeunload","unload","pagehide"],e,n)},l.areCookiesSupported=dt,l.arrForEach=xe,l.arrIndexOf=Se,l.arrMap=be,l.arrReduce=Te,l.attachEvent=se,l.canUseCookies=function(e){return $t(null,e).isEnabled()},l.createClassFromInterface=function(e){return function(){var t=this;e&&le(e,function(e,n){t[e]=n})}},l.createCookieMgr=gt,l.dateNow=Pe,l.deleteCookie=function(e,n){return $t(null,e).del(n)},l.detachEvent=ce,l.disableCookies=Zt,l.doPerf=An,l.dumpObj=vn,l.generateW3CId=Ht,l.getConsole=un,l.getCookie=function(e,n){return $t(null,e).get(n)},l.getCrypto=fn,l.getDebugExt=mn,l.getDebugListener=xn,l.getDocument=nn,l.getExceptionName=Me,l.getGblPerfMgr=function(){return Nn},l.getGlobal=d,l.getGlobalInst=$e,l.getHistory=function(){return on()?history:$e("history")},l.getIEVersion=function(e){var n,e=((e=(e=void 0===e?null:e)?e:(n=rn()||{})?(n.userAgent||"").toLowerCase():"")||"").toLowerCase();if(ge(e,qe))return parseInt(e.split(qe)[1]);if(ge(e,Ve)){e=parseInt(e.split(Ve)[1]);if(e)return e+4}return null},l.getJSON=ln,l.getLocation=an,l.getMsCrypto=gn,l.getNavigator=rn,l.getPerformance=sn,l.getSetValue=Ae,l.getWindow=Ye,l.hasDocument=en,l.hasHistory=on,l.hasJSON=cn,l.hasNavigator=tn,l.hasOwnProperty=oe,l.hasWindow=Ze,l.initializePlugins=Vn,l.isArray=ve,l.isBeaconsSupported=function(){return Xe=null===Xe?tn()&&!!rn().sendBeacon:Xe},l.isBoolean=Ce,l.isDate=de,l.isError=pe,l.isFetchSupported=function(e){var n=!1;try{var n=!!$e("fetch"),t=$e("Request");n&&e&&t&&(n=Qe(t,"keepalive"))}catch(r){}return n},l.isFunction=ue,l.isIE=dn,l.isNotNullOrUndefined=ie,l.isNotTruthy=Fe,l.isNotUndefined=function(e){return!te(e)},l.isNullOrUndefined=re,l.isNumber=ye,l.isObject=ae,l.isReactNative=function(){var e=rn();return!(!e||!e.product)&&"ReactNative"===e.product},l.isSafari=function(e){var n;return!!~((e=e&&he(e)?e:(n=rn()||{})?(n.userAgent||"").toLowerCase():"")||"").toLowerCase().indexOf("safari")},l.isString=he,l.isSymbol=function(e){return"symbol"==typeof e},l.isTruthy=_e,l.isTypeof=ne,l.isUndefined=te,l.isXhrSupported=pn,l.mwcRandom32=Ot,l.mwcRandomSeed=Rt,l.newGuid=Vt,l.newId=Wt,l.normalizeJsName=function(e){var n=e,t=/([^\w\d_$])/g;return t.test(e)?e.replace(t,"_"):n},l.objCreate=p,l.objDefineAccessors=Le,l.objForEachKey=le,l.objFreeze=function(e){return Z?Z(e):e},l.objKeys=Ne,l.objSeal=function(e){return Y?Y(e):e},l.optimizeObject=function(e){return e&&t(c?c({},e):e)},l.perfNow=Gt,l.proxyAssign=function(r,i,o){if(r&&i&&r!==i&&ae(r)&&ae(i))for(var e in i)!function(n){var e,t;he(n)&&(ue(e=i[n])?o&&!o(n,!0,i,r)||(r[n]=(t=n,function(){return i[t].apply(i,arguments)})):o&&!o(n,!1,i,r)||(oe(r,n)&&delete r[n],Le(r,n,function(){return i[n]},function(e){i[n]=e})||(r[n]=e)))}(e);return r},l.random32=_t,l.randomValue=Ft,l.safeGetCookieMgr=function(e,n){var t;return e?t=e.getCookieMgr():n&&(t=n.cookieCfg[tt]||gt(n)),t||lt(n,(e||{}).logger)},l.safeGetLogger=In,l.setCookie=function(e,n,t,r){$t(null,e).set(n,t,null,r)},l.setEnableEnvMocks=function(e){He=e},l.setGblPerfMgr=function(e){Nn=e},l.setValue=ke,l.sortPlugins=Gn,l.strContains=ge,l.strEndsWith=fe,l.strExtensionConfig=On,l.strFunction=a,l.strIKey="iKey",l.strObject=u,l.strPrototype=s,l.strStartsWith=function(e,n){var t=!1;if(e&&n){var r=n.length;if(e===n)return!0;if(e.length>=r){for(var i=0;i<r;i++)if(e[i]!==n[i])return!1;t=!0}}return t},l.strTrim=we,l.strUndefined=n,l.throwError=Re,l.toISOString=me,l.uaDisallowsSameSiteNone=Ct,l.useXDomainRequest=function(){return Je=null===Je&&(Je=typeof XDomainRequest!==undefined)&&pn()?Je&&!Qe($e("XMLHttpRequest"),"withCredentials"):Je},function(e,n,t){var r=Object.defineProperty;if(r)try{return r(e,n,t)}catch(i){}typeof t.value!==undefined&&(e[n]=t.value)}(l,"__esModule",{value:!0})});
//# sourceMappingURL=applicationinsights-core-js.min.js.map
