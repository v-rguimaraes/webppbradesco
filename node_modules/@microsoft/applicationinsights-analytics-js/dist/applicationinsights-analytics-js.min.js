/*!
 * Application Insights JavaScript SDK - Web Analytics, 2.7.2
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
var e=this,t=function(e){"use strict";var r="function",S="object",i="undefined",a="prototype",o="hasOwnProperty",n=Object,s=n[a],t=n.assign,l=n.create,c=n.defineProperty,u=s[o];function g(){return typeof globalThis!==i&&globalThis?globalThis:typeof self!==i&&self?self:typeof window!==i&&window?window:typeof global!==i&&global?global:null}function f(e){throw new TypeError(e)}(g()||{}).Symbol,(g()||{}).Reflect;var p=t||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])s[o].call(t,i)&&(e[i]=t[i]);return e},d=function(e,t){return(d=n.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[o](n)&&(e[n]=t[n])})(e,t)};function m(e,t){function n(){this.constructor=e}typeof t!==r&&null!==t&&f("Class extends value "+t+" is not a constructor or null"),d(e,t),e[a]=null===t?function(e){if(l)return l(e);if(null==e)return{};var t=typeof e;function n(){}return t!==S&&t!==r&&f("Object prototype may only be an Object:"+e),n[a]=e,new n}(t):(n[a]=t[a],new n)}var x,h="constructor",v="prototype",y="function",T="_dynInstFuncs",w="_isDynProxy",I="_dynClass",C="_dynInstChk",P=C,b="_dfOpts",k="_unknown_",N="__proto__",E="useBaseInst",L="setInstFuncs",A=Object,M=A.getPrototypeOf,V=0;function R(e,t){return e&&A[v].hasOwnProperty.call(e,t)}function D(e){return e&&(e===A[v]||e===Array[v])}function F(e){return D(e)||e===Function[v]}function _(e){if(e){if(M)return M(e);e=e[N]||e[v]||(e[h]?e[h][v]:null);if(e)return e}return null}function O(e,t){var n=[],r=A.getOwnPropertyNames;if(r)n=r(e);else for(var i in e)"string"==typeof i&&R(e,i)&&n.push(i);if(n&&0<n.length)for(var a=0;a<n.length;a++)t(n[a])}function B(e,t,n){return t!==h&&typeof e[t]===y&&(n||R(e,t))}function U(e){throw new TypeError("DynamicProto: "+e)}function j(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return 1}function z(e,t){return R(e,v)?e.name||t||k:((e||{})[h]||{}).name||t||k}function W(e,r,t,n){R(e,v)||U("theClass is an invalid class definition.");var i=e[v];!function(e){if(M)for(var t=[],n=_(r);n&&!F(n)&&!j(t,n);){if(n===e)return 1;t.push(n),n=_(n)}}(i)&&U("["+z(e)+"] is not in class hierarchy of ["+z(r)+"]");var a=null;R(i,I)?a=i[I]:(a="_dynCls$"+z(e,"_")+"$"+V,V++,i[I]=a);var o=W[b],s=!!o[E];s&&n&&n[E]!==undefined&&(s=!!n[E]);var l,c,e=(c={},O(l=r,function(e){!c[e]&&B(l,e,!1)&&(c[e]=l[e])}),c);t(r,function(e,t,n,a){function r(e,t,n){var r,i=t[n];return i[w]&&a&&!1!==(r=e[T]||{})[P]&&(i=(r[t[I]]||{})[n]||i),function(){return i.apply(e,arguments)}}var i={};O(n,function(e){i[e]=r(t,n,e)});for(var o=_(e),s=[];o&&!F(o)&&!j(s,o);)O(o,function(e){!i[e]&&B(o,e,!M)&&(i[e]=r(t,o,e))}),s.push(o),o=_(o);return i}(i,r,e,s));var u,g,f,p,o=!!M&&!!o[L];u=i,a=a,g=r,f=e,n=!1!==(o=o&&n?!!n[L]:o),D(u)||(o=g[T]=g[T]||{},p=o[a]=o[a]||{},!1!==o[P]&&(o[P]=!!n),O(g,function(e){var n,r,i;B(g,e,!1)&&g[e]!==f[e]&&(p[e]=g[e],delete g[e],R(u,e)&&(!u[e]||u[e][w])||(u[e]=(n=u,r=e,(i=function(){var e,t;return(function(e,t,n,r){var i=null;if(e&&R(n,I)){var a=e[T]||{};if((i=(a[n[I]]||{})[t])||U("Missing ["+t+"] "+y),!i[C]&&!1!==a[P]){for(var o=!R(e,t),s=_(e),l=[];o&&s&&!F(s)&&!j(l,s);){var c=s[t];if(c){o=c===r;break}l.push(s),s=_(s)}try{o&&(e[t]=i),i[C]=1}catch(u){a[P]=!1}}}return i}(this,r,n,i)||(typeof(t=(t=n[e=r])===i?_(n)[e]:t)!==y&&U("["+e+"] is not a "+y),t)).apply(this,arguments)})[w]=1,i)))}))}W[b]={setInstFuncs:!0,useBaseInst:!0},(t=x=x||{})[t.CRITICAL=1]="CRITICAL",t[t.WARNING=2]="WARNING";var G={BrowserDoesNotSupportLocalStorage:0,BrowserCannotReadLocalStorage:1,BrowserCannotReadSessionStorage:2,BrowserCannotWriteLocalStorage:3,BrowserCannotWriteSessionStorage:4,BrowserFailedRemovalFromLocalStorage:5,BrowserFailedRemovalFromSessionStorage:6,CannotSendEmptyTelemetry:7,ClientPerformanceMathError:8,ErrorParsingAISessionCookie:9,ErrorPVCalc:10,ExceptionWhileLoggingError:11,FailedAddingTelemetryToBuffer:12,FailedMonitorAjaxAbort:13,FailedMonitorAjaxDur:14,FailedMonitorAjaxOpen:15,FailedMonitorAjaxRSC:16,FailedMonitorAjaxSend:17,FailedMonitorAjaxGetCorrelationHeader:18,FailedToAddHandlerForOnBeforeUnload:19,FailedToSendQueuedTelemetry:20,FailedToReportDataLoss:21,FlushFailed:22,MessageLimitPerPVExceeded:23,MissingRequiredFieldSpecification:24,NavigationTimingNotSupported:25,OnError:26,SessionRenewalDateIsZero:27,SenderNotInitialized:28,StartTrackEventFailed:29,StopTrackEventFailed:30,StartTrackFailed:31,StopTrackFailed:32,TelemetrySampledAndNotSent:33,TrackEventFailed:34,TrackExceptionFailed:35,TrackMetricFailed:36,TrackPVFailed:37,TrackPVFailedCalc:38,TrackTraceFailed:39,TransmissionFailed:40,FailedToSetStorageBuffer:41,FailedToRestoreStorageBuffer:42,InvalidBackendResponse:43,FailedToFixDepricatedValues:44,InvalidDurationValue:45,TelemetryEnvelopeInvalid:46,CreateEnvelopeError:47,CannotSerializeObject:48,CannotSerializeObjectNonSerializable:49,CircularReferenceDetected:50,ClearAuthContextFailed:51,ExceptionTruncated:52,IllegalCharsInName:53,ItemNotInArray:54,MaxAjaxPerPVExceeded:55,MessageTruncated:56,NameTooLong:57,SampleRateOutOfRange:58,SetAuthContextFailed:59,SetAuthContextFailedAccountName:60,StringValueTooLong:61,StartCalledMoreThanOnce:62,StopCalledWithoutStart:63,TelemetryInitializerFailed:64,TrackArgumentsNotSpecified:65,UrlTooLong:66,SessionStorageBufferFull:67,CannotAccessCookie:68,IdTooLong:69,InvalidEvent:70,FailedMonitorAjaxSetRequestHeader:71,SendBrowserInfoOnUserInit:72,PluginException:73,NotificationException:74,SnippetScriptLoadFailure:99,InvalidInstrumentationKey:100,CannotParseAiBlobValue:101,InvalidContentBlob:102,TrackPageActionEventFailed:103,FailedAddingCustomDefinedRequestContext:104,InMemoryStorageBufferFull:105},K=c;function q(e){return s.toString.call(e)}function J(e){return e===undefined||typeof e===i}function H(e){return null===e||J(e)}function X(e){return!H(e)}function $(e){return typeof e===S}function Z(e){return typeof e===r}function Q(e,t){if(e)for(var n in e)u.call(e,n)&&t.call(e,n,e[n])}function Y(e,t){return!(!e||!t||!~e.indexOf(t))}function ee(e){return"[object Array]"===q(e)}function te(e){return"[object Error]"===q(e)}function ne(e){return"string"==typeof e}function re(e,t,n){var r=e.length;try{for(var i=0;i<r&&!(i in e&&-1===t.call(n||e,e[i],i,e));i++);}catch(a){}}function ie(e,t,n){var r=e.length,i=n||e,a=Array(r);try{for(var o=0;o<r;o++)o in e&&(a[o]=t.call(i,e[o],e))}catch(s){}return a}function ae(e){return"string"!=typeof e?e:e.replace(/^\s+|\s+$/g,"")}function oe(){var e=Date;return e.now?e.now():(new e).getTime()}function se(e){return te(e)?e.name:""}function le(e,t,n,r,i){var a=n;return e&&((a=e[t])===n||i&&!i(a)||r&&!r(n)||(e[t]=a=n)),a}function ce(e){return!!e}var ue="window",ge="document",fe="location",pe="JSON",de="msie",me="trident/",he=null,ve=null,ye=!1;function Te(e){var t=g();return t&&t[e]?t[e]:e===ue&&we()?window:null}function we(){return typeof window===S&&window}function Ie(){return we()?window:Te(ue)}function Ce(){return typeof document===S&&document?document:Te(ge)}function Se(){return typeof navigator===S&&navigator?navigator:Te("navigator")}function xe(e){if(e&&ye){e=Te("__mockLocation");if(e)return e}return typeof location===S&&location?location:Te(fe)}function Pe(){return Te("performance")}function be(){return typeof JSON===S&&JSON||null!==Te(pe)}function ke(){return be()?JSON||Te(pe):null}function Ne(){var e=Se();return!e||e.userAgent===ve&&null!==he||(e=((ve=e.userAgent)||"").toLowerCase(),he=Y(e,de)||Y(e,me)),he}function Ee(e){var t=Object[a].toString.call(e),n="";return"[object Error]"===t?n="{ stack: '"+e.stack+"', message: '"+e.message+"', name: '"+e.name+"'":be()&&(n=ke().stringify(e)),t+n}var Le=null;function Ae(e){return e?'"'+e.replace(/\"/g,"")+'"':""}function Me(e,t){var n,r=typeof console!==i?console:Te("console");r&&(n="log",Z(r[n=r[e]?e:n])&&r[n](t))}var Ve=(Re.dataType="MessageData",Re);function Re(e,t,n,r){void 0===n&&(n=!1),this.messageId=e,this.message=(n?"AI: ":"AI (Internal): ")+e;e="";be()&&(e=ke().stringify(r));e=(t?" message:"+Ae(t):"")+(r?" props:"+Ae(e):"");this.message+=e}var De=function Yn(i){this.identifier="DiagnosticLogger",this.queue=[];var s=0,l={};W(Yn,this,function(a){function e(e,t){e=i[e];return H(e)?t:e}function o(e,t){var n,r=(r=(r=Le)||!0===i.disableDbgExt?r:Le||(n=Te("Microsoft"),Le=n?n.ApplicationInsights:Le))?r.ChromeDbgExt:null;r&&r.diagLog&&r.diagLog(e,t)}H(i)&&(i={}),a.consoleLoggingLevel=function(){return e("loggingLevelConsole",0)},a.telemetryLoggingLevel=function(){return e("loggingLevelTelemetry",1)},a.maxInternalMessageLimit=function(){return e("maxMessageLimit",25)},a.enableDebugExceptions=function(){return e("enableDebugExceptions",!1)},a.throwInternal=function(e,t,n,r,i){t=new Ve(t,n,i=void 0!==i&&i,r);if(a.enableDebugExceptions())throw t;n=e===x.CRITICAL?"errorToConsole":"warnToConsole";J(t.message)?o("throw"+(e===x.CRITICAL?"Critical":"Warning"),t):(r=a.consoleLoggingLevel(),i?(i=+t.messageId,!l[i]&&e<=r&&(a[n](t.message),l[i]=!0)):e<=r&&a[n](t.message),a.logInternalMessage(e,t))},a.warnToConsole=function(e){Me("warn",e),o("warning",e)},a.errorToConsole=function(e){Me("error",e),o("error",e)},a.resetInternalMessageCount=function(){s=0,l={}},a.logInternalMessage=function(e,t){var n,r;s>=a.maxInternalMessageLimit()||(r=!0,n="AITR_"+t.messageId,l[n]?r=!1:l[n]=!0,r&&(e<=a.telemetryLoggingLevel()&&(a.queue.push(t),s++,o(e===x.CRITICAL?"error":"warn",t)),s===a.maxInternalMessageLimit()&&(t=new Ve(G.MessageLimitPerPVExceeded,r="Internal events throttle limit per PageView reached for this app.",!1),a.queue.push(t),e===x.CRITICAL?a.errorToConsole(r):a.warnToConsole(r))))}})},Fe=(_e.ParentContextKey="parent",_e.ChildrenContextKey="childEvts",_e);function _e(e,i,t){var r,a=this,o=!1;a.start=oe(),a.name=e,a.isAsync=t,a.isChildEvt=function(){return!1},Z(i)&&(o=function(e){if(K)try{var t={enumerable:!0,configurable:!0,get:function(){return!r&&Z(i)&&(r=i(),i=null),r}};return K(e,"payload",t),!0}catch(n){}return!1}(a)),a.getCtx=function(e){return e?(e===_e.ParentContextKey||e===_e.ChildrenContextKey?a:a.ctx||{})[e]:null},a.setCtx=function(e,t){e&&(e===_e.ParentContextKey?(a[e]||(a.isChildEvt=function(){return!0}),a[e]=t):e===_e.ChildrenContextKey?a[e]=t:(a.ctx=a.ctx||{})[e]=t)},a.complete=function(){var e=0,t=a.getCtx(_e.ChildrenContextKey);if(ee(t))for(var n=0;n<t.length;n++){var r=t[n];r&&(e+=r.time)}a.time=oe()-a.start,a.exTime=a.time-e,a.complete=function(){},!o&&Z(i)&&(a.payload=i())}}var Oe="CoreUtils.doPerf";function Be(e,t,n,r,i){if(e){var a=e;if(a=Z(a.getPerfMgr)?a.getPerfMgr():a){var o,s=void 0,e=a.getCtx(Oe);try{if(s=a.create(t(),r,i))return e&&s.setCtx&&(s.setCtx(Fe.ParentContextKey,e),e.getCtx&&e.setCtx&&((o=e.getCtx(Fe.ChildrenContextKey))||(o=[],e.setCtx(Fe.ChildrenContextKey,o)),o.push(s))),a.setCtx(Oe,s),n(s)}catch(l){s&&s.setCtx&&s.setCtx("exception",l)}finally{s&&a.fire(s),a.setCtx(Oe,e)}}}return n()}var Ue=function(i,t){var a=this,o=null,s=Z(i.processTelemetry),l=Z(i.setNextPlugin);a._hasRun=!1,a.getPlugin=function(){return i},a.getNext=function(){return o},a.setNext=function(e){o=e},a.processTelemetry=function(n,r){r=r||t;var e=i?i.identifier:"TelemetryPluginChain";Be(r?r.core():null,function(){return e+":processTelemetry"},function(){if(i&&s){a._hasRun=!0;try{r.setNext(o),l&&i.setNextPlugin(o),o&&(o._hasRun=!1),i.processTelemetry(n,r)}catch(t){var e=o&&o._hasRun;o&&e||r.diagLog().throwInternal(x.CRITICAL,G.PluginException,"Plugin ["+i.identifier+"] failed during processTelemetry - "+Ee(t)),o&&!e&&o.processTelemetry(n,r)}}else o&&(a._hasRun=!0,o.processTelemetry(n,r))},function(){return{item:n}},!n.sync)}};function je(e,t){var n=[];if(e&&0<e.length)for(var r=null,i=0;i<e.length;i++){var a=e[i];a&&Z(a.processTelemetry)&&(a=new Ue(a,t),n.push(a),r&&r.setNext(a),r=a)}return 0<n.length?n[0]:null}var ze=function er(e,i,n,t){var r,a,o,s,l=this,c=null;null!==t&&(e&&Z(e.getPlugin)?c=function(e,t,n){var r=[],i=!n;if(e)for(;e;){var a=e.getPlugin();!i&&a!==n||(i=!0,r.push(a)),e=e.getNext()}return i||r.push(n),je(r,t)}(e,l,t||e.getPlugin()):t?(r=l,o=e,s=!1,(a=t)&&e&&(o=[],re(e,function(e){!s&&e!==a||(s=!0,o.push(e))})),a&&!s&&(o=o||[]).push(a),c=je(o,r)):J(t)&&(c=je(e,l))),l.core=function(){return n},l.diagLog=function(){return(n||{}).logger||new De(i)},l.getCfg=function(){return i},l.getExtCfg=function(e,t){var n,r;return void 0===t&&(t={}),!i||(r=i.extensionConfig)&&e&&(n=r[e]),n||t},l.getConfig=function(e,t,n){var r;void 0===n&&(n=!1);e=l.getExtCfg(e,null);return e&&!H(e[t])?r=e[t]:i&&!H(i[t])&&(r=i[t]),H(r)?n:r},l.hasNext=function(){return null!=c},l.getNext=function(){return c},l.setNext=function(e){c=e},l.processNext=function(e){var t=c;t&&(c=t.getNext(),t.processTelemetry(e,l))},l.createNew=function(e,t){return new er((e=void 0===e?null:e)||c,i,n,t)}},We="getPlugin",t=(Ge.prototype.initialize=function(e,t,n,r){this._baseTelInit(e,t,n,r)},Ge);function Ge(){var a=this,o=!1,s=null,l=null;a.core=null,a.diagLog=function(e){return a._getTelCtx(e).diagLog()},a.isInitialized=function(){return o},a.setInitialized=function(e){o=e},a.setNextPlugin=function(e){l=e},a.processNext=function(e,t){t?t.processNext(e):l&&Z(l.processTelemetry)&&l.processTelemetry(e,null)},a._getTelCtx=function(e){var t=e=void 0===e?null:e;return t||(e=s||new ze(null,{},a.core),t=l&&l[We]?e.createNew(null,l[We]):e.createNew(null,l)),t},a._baseTelInit=function(e,t,n,r){e&&le(e,"extensionConfig",[],null,H),!r&&t&&(r=t.getProcessTelContext().getNext());var i=l;l&&l[We]&&(i=l[We]()),a.core=t,s=new ze(r,e,t,i),o=!0}}var Ke="toGMTString",qe="toUTCString",Je="cookie",He="expires",Xe="enabled",$e="isCookieUseDisabled",Ze="disableCookiesUsage",Qe="_ckMgr",Ye="",et=null,tt=null,nt=null,rt=Ce(),it={},at={};function ot(e){return!e||e.isEnabled()}function st(e,i){var t,n,c=(le(n=(t=e||at).cookieCfg=t.cookieCfg||{},"domain",t.cookieDomain,X,H),le(n,"path",t.cookiePath||"/",null,H),H(n[Xe])&&(e=void 0,J(t[$e])||(e=!t[$e]),J(t[Ze])||(e=!t[Ze]),n[Xe]=e),n),u=c.path||"/",g=c.domain,r=!1!==c[Xe],f={isEnabled:function(){var e=r&&lt(i),t=at[Qe];return e&&t&&f!==t?ot(t):e},setEnabled:function(e){r=!1!==e},set:function(e,t,n,r,i){var a,o,s,l=!1;return ot(f)&&(a={},-1!=(s=(o=ae(t||Ye)).indexOf(";"))&&(o=ae(t.substring(0,s)),a=ct(t.substring(1+s))),le(a,"domain",r||g,ce,J),H(n)||(s=Ne(),!J(a[He])||0<(t=oe()+1e3*n)&&((r=new Date).setTime(t),le(a,He,ut(r,s?Ke:qe)||ut(r,s?Ke:qe)||Ye,ce)),s||le(a,"max-age",Ye+n,null,J)),(n=xe())&&"https:"===n.protocol&&(le(a,"secure",null,null,J),(tt=null===tt?!(ne(n=(Se()||{}).userAgent)&&(Y(n,"CPU iPhone OS 12")||Y(n,"iPad; CPU OS 12")||Y(n,"Macintosh; Intel Mac OS X 10_14")&&Y(n,"Version/")&&Y(n,"Safari")||Y(n,"Macintosh; Intel Mac OS X 10_14")&&function(e,t){if(e){var n=e.length;if(e===t)return 1;if(40<=n){for(var r=n-1,i=39;0<=i;i--){if(e[r]!=t[i])return;r--}return 1}}}(n,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Y(n,"Chrome/5")||Y(n,"Chrome/6")||Y(n,"UnrealEngine")&&!Y(n,"Chrome")||Y(n,"UCBrowser/12")||Y(n,"UCBrowser/11"))):tt)&&le(a,"SameSite","None",null,J)),le(a,"path",i||u,null,J),(c.setCookie||ft)(e,gt(o,a)),l=!0),l},get:function(e){var t=Ye;return ot(f)?(c.getCookie||function(e){var t,n=Ye;return rt&&(t=rt[Je]||Ye,nt!==t&&(it=ct(t),nt=t),n=ae(it[e]||Ye)),n})(e):t},del:function(e,t){return!!ot(f)&&f.purge(e,t)},purge:function(e,t){var n,r=!1;return lt(i)&&((n={}).path=t||"/",n[He]="Thu, 01 Jan 1970 00:00:01 GMT",n=n,Ne()||(n["max-age"]="0"),(c.delCookie||ft)(e,gt(Ye,n)),r=!0),r}};return f[Qe]=f}function lt(e){if(null===et){et=!1;try{et=(rt||{})[Je]!==undefined}catch(t){e&&e.throwInternal(x.WARNING,G.CannotAccessCookie,"Cannot access document.cookie - "+se(t),{exception:Ee(t)})}}return et}function ct(e){var n={};return e&&e.length&&re(ae(e).split(";"),function(e){var t;(e=ae(e||Ye))&&(-1==(t=e.indexOf("="))?n[e]=null:n[ae(e.substring(0,t))]=ae(e.substring(1+t)))}),n}function ut(e,t){return Z(e[t])?e[t]():null}function gt(e,t){var n=e||Ye;return Q(t,function(e,t){n+="; "+e+(H(t)?Ye:"="+t)}),n}function ft(e,t){rt&&(rt[Je]=e+"="+t)}var pt=4294967296,dt=4294967295,mt=!1,ht=123456789,vt=987654321;function yt(e){var t=Te("crypto")||Te("msCrypto"),n=t&&t.getRandomValues?t.getRandomValues(new Uint32Array(1))[0]&dt:Ne()?(mt||function(){try{var e=2147483647&oe();(t=(Math.random()*pt^e)+e)<0&&(t>>>=0),ht=123456789+t&dt,vt=987654321-t&dt,mt=!0}catch(n){}var t}(),n=((vt=36969*(65535&vt)+(vt>>16)&dt)<<16)+(65535&(ht=18e3*(65535&ht)+(ht>>16)&dt))>>>0&dt|0,(n>>>=0)&dt):Math.floor(pt*Math.random()|0);return e||(n>>>=0),n}function Tt(e,t,n){var r,i,a=t.length,o=(e=e,(t=t)&&150<(t=ae(t.toString())).length&&(i=t.substring(0,150),e&&e.throwInternal(x.WARNING,G.NameTooLong,"name is too long.  It has been truncated to 150 characters.",{name:t},!0)),i||t);if(o.length!==a){for(var s=0,l=o;n[l]!==undefined;)s++,l=o.substring(0,147)+(r=void 0,(r="00"+s).substr(r.length-3));o=l}return o}function wt(e,t,n){var r;return void 0===n&&(n=1024),t&&(n=n||1024,(t=ae(t)).toString().length>n&&(r=t.toString().substring(0,n),e&&e.throwInternal(x.WARNING,G.StringValueTooLong,"string value is too long. It has been truncated to "+n+" characters.",{value:t},!0))),r||t}function It(e,t){return Pt(e,t,2048,G.UrlTooLong)}function Ct(e,t){var n;return t&&32768<t.length&&(n=t.substring(0,32768),e&&e.throwInternal(x.WARNING,G.MessageTruncated,"message is too long, it has been truncated to 32768 characters.",{message:t},!0)),n||t}function St(r,e){var i;return e&&(i={},Q(e,function(e,t){if($(t)&&be())try{t=ke().stringify(t)}catch(n){r&&r.throwInternal(x.WARNING,G.CannotSerializeObjectNonSerializable,"custom property is not valid",{exception:n},!0)}t=wt(r,t,8192),e=Tt(r,e,i),i[e]=t}),e=i),e}function xt(n,e){var r;return e&&(r={},Q(e,function(e,t){e=Tt(n,e,r),r[e]=t}),e=r),e}function Pt(e,t,n,r){var i;return t&&(t=ae(t)).length>n&&(i=t.substring(0,n),e&&e.throwInternal(x.WARNING,r,"input is too long, it has been truncated to "+n+" characters.",{data:t},!0)),i||t}function bt(e){var t,n=null;return Z(Event)?n=new Event(e):(t=Ce())&&t.createEvent&&(n=t.createEvent("Event")).initEvent(e,!0,!0),n}function kt(e,t){return void 0===t&&(t=!1),e===undefined||null===e?t:"true"==e.toString().toLowerCase()}function Nt(e){var t=""+Math.floor((e=Math.round(e=isNaN(e)||e<0?0:e))/1e3)%60,n=""+Math.floor(e/6e4)%60,r=""+Math.floor(e/36e5)%24,i=Math.floor(e/864e5),e=1===(e=""+e%1e3).length?"00"+e:2===e.length?"0"+e:e,t=t.length<2?"0"+t:t,n=n.length<2?"0"+n:n;return(0<i?i+".":"")+(r=r.length<2?"0"+r:r)+":"+n+":"+t+"."+e}var Et,Lt="not_specified",At="iKey";(c=Et=Et||{})[c.LocalStorage=0]="LocalStorage",c[c.SessionStorage=1]="SessionStorage";var Mt=undefined;function Vt(e){try{if(H(g()))return null;var t=new Date,n=Te(e===Et.LocalStorage?"localStorage":"sessionStorage");n.setItem(t.toString(),t.toString());var r=n.getItem(t.toString())!==t.toString();if(n.removeItem(t.toString()),!r)return n}catch(i){}return null}function Rt(){return Dt()?Vt(Et.SessionStorage):null}function Dt(){return Mt=Mt===undefined?!!Vt(Et.SessionStorage):Mt}function Ft(e,t){var n=Rt();if(null!==n)try{return n.getItem(t)}catch(r){Mt=!1,e.throwInternal(x.WARNING,G.BrowserCannotReadSessionStorage,"Browser failed read of session storage. "+se(r),{exception:Ee(r)})}return null}function _t(e,t,n){var r=Rt();if(null!==r)try{return r.setItem(t,n),1}catch(i){Mt=!1,e.throwInternal(x.WARNING,G.BrowserCannotWriteSessionStorage,"Browser failed write to session storage. "+se(i),{exception:Ee(i)})}}function Ot(e,t){var n=Rt();if(null!==n)try{return n.removeItem(t),1}catch(r){Mt=!1,e.throwInternal(x.WARNING,G.BrowserFailedRemovalFromSessionStorage,"Browser failed removal of session storage item. "+se(r),{exception:Ee(r)})}}var Bt=Ce()||{},Ut=0,jt=[null,null,null,null,null];function zt(e,t){return 0===e||0===t||H(e)||H(t)?null:t-e}var Wt,c=function(){this.ver=2,this.properties={},this.measurements={}},Gt=(m(Kt,Wt=c),Kt.envelopeType="Microsoft.ApplicationInsights.{0}.Event",Kt.dataType="EventData",Kt);function Kt(e,t,n,r){var i=Wt.call(this)||this;return i.aiDataContract={ver:1,name:1,properties:0,measurements:0},i.name=wt(e,t)||Lt,i.properties=St(e,n),i.measurements=xt(e,r),i}var qt="error",Jt="stack",Ht="stackDetails",Xt="errorSrc",$t="message",Zt="description";function Qt(e,t){var n=e;return n&&!ne(n)&&(JSON&&JSON.stringify?(n=JSON.stringify(e),!t||n&&"{}"!==n||(n=Z(e.toString)?e.toString():""+e)):n=e+" - (Missing JSON.stringify)"),n||""}function Yt(e,t){var n=e;return e&&((n=n&&!ne(n)&&(e[$t]||e[Zt])||n)&&!ne(n)&&(n=Qt(n,!0)),e.filename&&(n=n+" @"+(e.filename||"")+":"+(e.lineno||"?")+":"+(e.colno||"?"))),(t&&"String"!==t&&"Object"!==t&&"Error"!==t&&!~(n||"").indexOf(t)?t+": "+n:n)||""}function en(e){return e&&e.src&&ne(e.src)&&e.obj&&ee(e.obj)}function tn(e){var t=e||"",e=(t=ne(t)?t:ne(t[Jt])?t[Jt]:""+t).split("\n");return{src:t,obj:e}}function nn(e){var t,n=null;if(e)try{e[Jt]?n=tn(e[Jt]):e[qt]&&e[qt][Jt]?n=tn(e[qt][Jt]):e.exception&&e.exception[Jt]?n=tn(e.exception[Jt]):en(e)?n=e:en(e[Ht])?n=e[Ht]:window&&window.opera&&e[$t]?n=function(e){for(var t=[],n=e.split("\n"),r=0;r<n.length;r++){var i=n[r];n[r+1]&&(i+="@"+n[r+1],r++),t.push(i)}return{src:e,obj:t}}(e.message):ne(e)?n=tn(e):(t=e[$t]||e[Zt]||"",ne(e[Xt])&&(t&&(t+="\n"),t+=" from "+e[Xt]),t&&(n=tn(t)))}catch(r){n=tn(r)}return n||{src:"",obj:null}}function rn(e){var t="";if(e&&!(t=e.typeName||e.name||""))try{var n=/function (.{1,200})\(/.exec(e.constructor.toString()),t=n&&1<n.length?n[1]:""}catch(r){}return t}function an(e){if(e)try{if(!ne(e)){var t=rn(e),n=Qt(e,!1);return n&&"{}"!==n||(e[qt]&&(t=rn(e=e[qt])),n=Qt(e,!0)),n.indexOf(t)&&"String"!==t?t+":"+n:n}}catch(r){}return""+(e||"")}var on,sn=(m(ln,on=function(){this.ver=2,this.exceptions=[],this.properties={},this.measurements={}}),ln.CreateAutoException=function(e,t,n,r,i,a,o,s){var l=rn(i||a||e);return{message:Yt(e,l),url:t,lineNumber:n,columnNumber:r,error:an(i||a||e),evt:an(a||e),typeName:l,stackDetails:nn(o||i||a),errorSrc:s}},ln.CreateFromInterface=function(t,e,n,r){var i=e.exceptions&&ie(e.exceptions,function(e){return un.CreateFromInterface(t,e)});return new ln(t,p(p({},e),{exceptions:i}),n,r)},ln.prototype.toInterface=function(){var e=this,t=e.exceptions,n=e.properties,r=e.measurements,i=e.severityLevel;e.ver;var a=e.problemGroup,o=e.id,e=e.isManual;return{ver:"4.0",exceptions:t instanceof Array&&ie(t,function(e){return e.toInterface()})||undefined,severityLevel:i,properties:n,measurements:r,problemGroup:a,id:o,isManual:e}},ln.CreateSimpleException=function(e,t,n,r,i,a){return{exceptions:[{hasFullStack:!0,message:e,stack:i,typeName:t}]}},ln.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",ln.dataType="ExceptionData",ln.formatError=an,ln);function ln(e,t,n,r,i,a){var o=on.call(this)||this;return o.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0},function(e){try{if($(e))return"ver"in e&&"exceptions"in e&&"properties"in e}catch(t){}}(t)?(o.exceptions=t.exceptions,o.properties=t.properties,o.measurements=t.measurements,t.severityLevel&&(o.severityLevel=t.severityLevel),t.id&&(o.id=t.id),t.problemGroup&&(o.problemGroup=t.problemGroup),o.ver=2,H(t.isManual)||(o.isManual=t.isManual)):(o.exceptions=[new un(e,t,n=n||{})],o.properties=St(e,n),o.measurements=xt(e,r),i&&(o.severityLevel=i),a&&(o.id=a)),o}var cn,un=(m(gn,cn=function(){this.hasFullStack=!0,this.parsedStack=[]}),gn.prototype.toInterface=function(){var e=this.parsedStack instanceof Array&&ie(this.parsedStack,function(e){return e.toInterface()});return{id:this.id,outerId:this.outerId,typeName:this.typeName,message:this.message,hasFullStack:this.hasFullStack,stack:this[Jt],parsedStack:e||undefined}},gn.CreateFromInterface=function(e,t){var n=t.parsedStack instanceof Array&&ie(t.parsedStack,function(e){return pn.CreateFromInterface(e)})||t.parsedStack;return new gn(e,p(p({},t),{parsedStack:n}))},gn);function gn(e,t,n){var r,c,i,a,o,s=cn.call(this)||this;return s.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2},function(e){try{if($(e))return"hasFullStack"in e&&"typeName"in e}catch(t){}}(t)?(s.typeName=t.typeName,s.message=t.message,s[Jt]=t[Jt],s.parsedStack=t.parsedStack,s.hasFullStack=t.hasFullStack):(r=(i=t)&&i.evt,te(i)||(i=i[qt]||r||i),s.typeName=wt(e,rn(i))||Lt,s.message=Ct(e,Yt(t||i,s.typeName))||Lt,c=t[Ht]||nn(t),s.parsedStack=function(){var e=c.obj;if(e&&0<e.length){var t=[],n=0,r=0;if(re(e,function(e){var e=e.toString();pn.regex.test(e)&&(e=new pn(e,n++),r+=e.sizeInBytes,t.push(e))}),32768<r)for(var i=0,a=t.length-1,o=0,s=i,l=a;i<a;){if(32768<(o+=t[i].sizeInBytes+t[a].sizeInBytes)){t.splice(s,l-s+1);break}s=i,l=a,i++,a--}}return t}(),s[Jt]=(i=e,o="",(t=c)&&(t.obj?re(t.obj,function(e){o+=e+"\n"}):o=t.src||""),!(e=o)||32768<(t=""+e).length&&(a=t.substring(0,32768),i&&i.throwInternal(x.WARNING,G.ExceptionTruncated,"exception is too long, it has been truncated to 32768 characters.",{exception:e},!0)),a||e),s.hasFullStack=ee(s.parsedStack)&&0<s.parsedStack.length,n&&(n.typeName=n.typeName||s.typeName)),s}var fn,pn=(m(dn,fn=function(){}),dn.CreateFromInterface=function(e){return new dn(e,null)},dn.prototype.toInterface=function(){return{level:this.level,method:this.method,assembly:this.assembly,fileName:this.fileName,line:this.line}},dn.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,dn.baseSize=58,dn);function dn(e,t){var n,r=fn.call(this)||this;return r.sizeInBytes=0,r.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0},"string"==typeof e?(n=e,r.level=t,r.method="<no_method>",r.assembly=ae(n),r.fileName="",r.line=0,(n=n.match(dn.regex))&&5<=n.length&&(r.method=ae(n[2])||r.method,r.fileName=ae(n[4]),r.line=parseInt(n[5])||0)):(r.level=e.level,r.method=e.method,r.assembly=e.assembly,r.fileName=e.fileName,r.line=e.line,r.sizeInBytes=0),r.sizeInBytes+=r.method.length,r.sizeInBytes+=r.fileName.length,r.sizeInBytes+=r.assembly.length,r.sizeInBytes+=dn.baseSize,r.sizeInBytes+=r.level.toString().length,r.sizeInBytes+=r.line.toString().length,r}var mn,hn=0,vn=(m(yn,mn=function(){this.kind=hn}),yn);function yn(){var e=null!==mn&&mn.apply(this,arguments)||this;return e.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},e}var Tn,wn=(m(In,Tn=function(){this.ver=2,this.metrics=[],this.properties={},this.measurements={}}),In.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",In.dataType="MetricData",In);function In(e,t,n,r,i,a,o,s,l){var c=Tn.call(this)||this;c.aiDataContract={ver:1,metrics:1,properties:0};var u=new vn;return u.count=0<r?r:undefined,u.max=isNaN(a)||null===a?undefined:a,u.min=isNaN(i)||null===i?undefined:i,u.name=wt(e,t)||Lt,u.value=n,u.stdDev=isNaN(o)||null===o?undefined:o,c.metrics=[u],c.properties=St(e,s),c.measurements=xt(e,l),c}var Cn,c=(m(Sn,Cn=c),Sn);function Sn(){var e=Cn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var xn,Pn=(m(bn,xn=c),bn.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",bn.dataType="PageviewData",bn);function bn(e,t,n,r,i,a,o){var s=xn.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0},s.id=o&&Pt(e,o,128,G.IdTooLong).toString(),s.url=It(e,n),s.name=wt(e,t)||Lt,isNaN(r)||(s.duration=Nt(r)),s.properties=St(e,i),s.measurements=xt(e,a),s}var kn,Nn=(m(En,kn=function(){this.ver=2,this.success=!0,this.properties={},this.measurements={}}),En.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",En.dataType="RemoteDependencyData",En);function En(e,t,n,r,i,a,o,s,l,c,u,g){void 0===l&&(l="Ajax");var f=kn.call(this)||this;f.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0},f.id=t,f.duration=Nt(i),f.success=a,f.resultCode=o+"",f.type=wt(e,l);var p,d,m,o=(p=e,t=s,o=a=i=r,a=(l=n)&&0<l.length?(d=l,n=(s=jt)[m=Ut],Bt.createElement?s[m]||(n=s[m]=Bt.createElement("a")):n={host:function(){var e,t,n=(r=null,!d||null!=(e=d.match(/(\w*):\/\/(.[^/:]+)(\:[\d]+)?/i))&&2<e.length&&ne(e[2])&&0<e[2].length&&(r=e[2]||"",2<e.length&&(t=(e[1]||"").toLowerCase(),n=e[3]||"",r+=n="http"==t&&":80"===n||"https"==t&&":443"===n?"":n)),r||"");if(n){var r=n.match(/(www[0-9]?\.)?(.[^/:]+)(\:[\d]+)?/i);if(null!=r&&3<r.length&&ne(r[2])&&0<r[2].length)return r[2]+(r[3]||"")}return n}()},n.href=d,++m>=s.length&&(m=0),Ut=m,m=(s=n).host,a||(null!=s.pathname?("/"!=((n=0===s.pathname.length?"/":s.pathname)[0]||"")&&(n="/"+n),o=s.pathname,wt(p,t?t+" "+n:n)):wt(p,l))):m=i,{target:m,name:a,data:o});return f.data=It(e,r)||o.data,f.target=wt(e,o.target),c&&(f.target="".concat(f.target," | ").concat(c)),f.name=wt(e,o.name),f.properties=St(e,u),f.measurements=xt(e,g),f}var Ln,An=(m(Mn,Ln=function(){this.ver=2,this.properties={},this.measurements={}}),Mn.envelopeType="Microsoft.ApplicationInsights.{0}.Message",Mn.dataType="MessageData",Mn);function Mn(e,t,n,r,i){var a=Ln.call(this)||this;return a.aiDataContract={ver:1,message:1,severityLevel:0,properties:0},a.message=Ct(e,t=t||Lt),a.properties=St(e,r),a.measurements=xt(e,i),n&&(a.severityLevel=n),a}var Vn,c=(m(Rn,Vn=c),Rn);function Rn(){var e=Vn.call(this)||this;return e.ver=2,e.properties={},e.measurements={},e}var Dn,Fn=(m(_n,Dn=c),_n.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",_n.dataType="PageviewPerformanceData",_n);function _n(e,t,n,r,i,a,o){var s=Dn.call(this)||this;return s.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0},s.url=It(e,n),s.name=wt(e,t)||Lt,s.properties=St(e,i),s.measurements=xt(e,a),o&&(s.domProcessing=o.domProcessing,s.duration=o.duration,s.networkConnect=o.networkConnect,s.perfTotal=o.perfTotal,s.receivedResponse=o.receivedResponse,s.sentRequest=o.sentRequest),s}var On={Verbose:0,0:"Verbose",Information:1,1:"Information",Warning:2,2:"Warning",Error:3,3:"Error",Critical:4,4:"Critical"},Bn=(Un.create=function(e,t,n,r,i,a){if(n=wt(r,n)||Lt,H(e)||H(t)||H(n))throw Error("Input doesn't contain all required fields");r="";e[At]&&(r=e[At],delete e[At]);var o={name:n,time:function(e){if("[object Date]"===q(e)){var t=function(e){e=""+e;return 1===e.length?"0"+e:e};return e.getUTCFullYear()+"-"+t(1+e.getUTCMonth())+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())+"."+(""+(e.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(new Date),iKey:r,ext:a||{},tags:[],data:{},baseType:t,baseData:e};return H(i)||Q(i,function(e,t){o.data[e]=t}),o},Un);function Un(){}var jn=function tr(d,m,t,h){W(tr,this,function(e){var u,n=null,g=[],f=!1;function p(){t&&re(t.getTransmissionControls(),function(e){re(e,function(e){return e.flush(!0)})})}t&&(u=t.logger),e.trackPageView=function(r,i){var a=r.name;!H(a)&&"string"==typeof a||(e=Ce(),a=r.name=e&&e.title||"");var e,o=r.uri;if(!H(o)&&"string"==typeof o||(e=xe(),o=r.uri=e&&e.href||""),!h.isPerformanceTimingSupported())return d.sendPageViewInternal(r,i),p(),void u.throwInternal(x.WARNING,G.NavigationTimingNotSupported,"trackPageView: navigation timing API used for calculation of page duration is not supported in this browser. This page view will be collected without duration and timing info.");var s,t,l=!1,c=h.getPerformanceTiming().navigationStart;0<c&&(s=zt(c,+new Date),h.shouldCollectDuration(s)||(s=undefined)),H(i)||H(i.duration)||(t=i.duration),!m&&isNaN(t)||(isNaN(t)&&((i=i||{}).duration=s),d.sendPageViewInternal(r,i),p(),l=!0),i=i||{},g.push(function(){var e,t=!1;try{h.isPerformanceTimingDataReady()?(t=!0,e={name:a,uri:o},h.populatePageViewPerformanceEvent(e),e.isValid||l?(l||(i.duration=e.durationMs,d.sendPageViewInternal(r,i)),f||(d.sendPageViewPerformanceInternal(e,i),f=!0)):(i.duration=s,d.sendPageViewInternal(r,i))):0<c&&6e4<zt(c,+new Date)&&(t=!0,l||(i.duration=6e4,d.sendPageViewInternal(r,i)))}catch(n){u.throwInternal(x.CRITICAL,G.TrackPVFailedCalc,"trackPageView failed on page load calculation: "+se(n),{exception:Ee(n)})}return t}),n=n||setInterval(function(){var e=g.slice(0),t=!1;g=[],re(e,function(e){e()?t=!0:g.push(e)}),0===g.length&&(clearInterval(n),n=null),t&&p()},100)}})},zn=(Wn.prototype.trackPreviousPageVisit=function(e,t){try{var n=this.restartPageVisitTimer(e,t);n&&this.pageVisitTimeTrackingHandler(n.pageName,n.pageUrl,n.pageVisitTime)}catch(r){this._logger.warnToConsole("Auto track page visit time failed, metric will not be collected: "+Ee(r))}},Wn.prototype.restartPageVisitTimer=function(e,t){try{var n=this.stopPageVisitTimer();return this.startPageVisitTimer(e,t),n}catch(r){return this._logger.warnToConsole("Call to restart failed: "+Ee(r)),null}},Wn.prototype.startPageVisitTimer=function(e,t){try{var n,r;Dt()&&(null!=Ft(this._logger,this.prevPageVisitDataKeyName)&&function(){throw Error("Cannot call startPageVisit consecutively without first calling stopPageVisit")}(),n=new Gn(e,t),r=ke().stringify(n),_t(this._logger,this.prevPageVisitDataKeyName,r))}catch(i){this._logger.warnToConsole("Call to start failed: "+Ee(i))}},Wn.prototype.stopPageVisitTimer=function(){try{if(Dt()){var e=oe(),t=Ft(this._logger,this.prevPageVisitDataKeyName);if(t&&be()){var n=ke().parse(t);return n.pageVisitTime=e-n.pageVisitStartTime,Ot(this._logger,this.prevPageVisitDataKeyName),n}return null}return null}catch(r){return this._logger.warnToConsole("Stop page visit timer failed: "+Ee(r)),null}},Wn);function Wn(e,t){this.prevPageVisitDataKeyName="prevPageVisitData",this.pageVisitTimeTrackingHandler=t,this._logger=e}var Gn=function(e,t){this.pageVisitStartTime=oe(),this.pageName=e,this.pageUrl=t},Kn=(qn.prototype.populatePageViewPerformanceEvent=function(e){e.isValid=!1;var t=this.getPerformanceNavigationTiming(),n=this.getPerformanceTiming(),r=0,i=0,a=0,o=0;(t||n)&&(n=t?(r=t.duration,i=0===t.startTime?t.connectEnd:zt(t.startTime,t.connectEnd),a=zt(t.requestStart,t.responseStart),o=zt(t.responseStart,t.responseEnd),zt(t.responseEnd,t.loadEventEnd)):(r=zt(n.navigationStart,n.loadEventEnd),i=zt(n.navigationStart,n.connectEnd),a=zt(n.requestStart,n.responseStart),o=zt(n.responseStart,n.responseEnd),zt(n.responseEnd,n.loadEventEnd)),0===r?this._logger.throwInternal(x.WARNING,G.ErrorPVCalc,"error calculating page view performance.",{total:r,network:i,request:a,response:o,dom:n}):this.shouldCollectDuration(r,i,a,o,n)?r<Math.floor(i)+Math.floor(a)+Math.floor(o)+Math.floor(n)?this._logger.throwInternal(x.WARNING,G.ClientPerformanceMathError,"client performance math error.",{total:r,network:i,request:a,response:o,dom:n}):(e.durationMs=r,e.perfTotal=e.duration=Nt(r),e.networkConnect=Nt(i),e.sentRequest=Nt(a),e.receivedResponse=Nt(o),e.domProcessing=Nt(n),e.isValid=!0):this._logger.throwInternal(x.WARNING,G.InvalidDurationValue,"Invalid page load duration value. Browser perf data won't be sent.",{total:r,network:i,request:a,response:o,dom:n}))},qn.prototype.getPerformanceTiming=function(){return this.isPerformanceTimingSupported()?Pe().timing:null},qn.prototype.getPerformanceNavigationTiming=function(){return this.isPerformanceNavigationTimingSupported()?Pe().getEntriesByType("navigation")[0]:null},qn.prototype.isPerformanceNavigationTimingSupported=function(){var e=Pe();return e&&e.getEntriesByType&&0<e.getEntriesByType("navigation").length},qn.prototype.isPerformanceTimingSupported=function(){var e=Pe();return e&&e.timing},qn.prototype.isPerformanceTimingDataReady=function(){var e=Pe(),e=e?e.timing:0;return e&&0<e.domainLookupStart&&0<e.navigationStart&&0<e.responseStart&&0<e.requestStart&&0<e.loadEventEnd&&0<e.responseEnd&&0<e.connectEnd&&0<e.domLoading},qn.prototype.shouldCollectDuration=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=["googlebot","adsbot-google","apis-google","mediapartners-google"],r=(Se()||{}).userAgent,i=!1;if(r)for(var a=0;a<n.length;a++)i=i||!!~r.toLowerCase().indexOf(n[a]);if(i)return!1;for(a=0;a<e.length;a++)if(e[a]<0||e[a]>=this.MAX_DURATION_ALLOWED)return!1;return!0},qn);function qn(e){this.MAX_DURATION_ALLOWED=36e5,e&&(this._logger=e.logger)}var Jn="duration",Hn="event";function Xn(e,t){e&&e.dispatchEvent&&t&&e.dispatchEvent(t)}var $n,t=(m(Zn,$n=t),Zn.getDefaultConfig=function(e){return(e=e||{}).sessionRenewalMs=18e5,e.sessionExpirationMs=864e5,e.disableExceptionTracking=kt(e.disableExceptionTracking),e.autoTrackPageVisitTime=kt(e.autoTrackPageVisitTime),e.overridePageViewDuration=kt(e.overridePageViewDuration),e.enableUnhandledPromiseRejectionTracking=kt(e.enableUnhandledPromiseRejectionTracking),(isNaN(e.samplingPercentage)||e.samplingPercentage<=0||100<=e.samplingPercentage)&&(e.samplingPercentage=100),e.isStorageUseDisabled=kt(e.isStorageUseDisabled),e.isBrowserLinkTrackingEnabled=kt(e.isBrowserLinkTrackingEnabled),e.enableAutoRouteTracking=kt(e.enableAutoRouteTracking),e.namePrefix=e.namePrefix||"",e.enableDebug=kt(e.enableDebug),e.disableFlushOnBeforeUnload=kt(e.disableFlushOnBeforeUnload),e.disableFlushOnUnload=kt(e.disableFlushOnUnload,e.disableFlushOnBeforeUnload),e},Zn.Version="2.7.2",Zn);function Zn(){var v,y,T,w,I,C=$n.call(this)||this;return C.identifier="ApplicationInsightsAnalytics",C.priority=180,C.autoRoutePVDelay=500,W(Zn,C,function(m,h){var e=xe(!0);w=e&&e.href||"",m.getCookieMgr=function(){return(t=(r=m.core)?r.getCookieMgr():t)||(n=(r||{}).logger,(r=st[Qe]||at[Qe])||(r=st[Qe]=st(e,n),at[Qe]=r),t=r),t;var e,t,n,r},m.processTelemetry=function(a,o){Be(m.core,function(){return m.identifier+":processTelemetry"},function(){var e=!1,t=m._telemetryInitializers.length;o=m._getTelCtx(o);for(var n=0;n<t;++n){var r=m._telemetryInitializers[n];if(r)try{if(!1===r.call(null,a)){e=!0;break}}catch(i){o.diagLog().throwInternal(x.CRITICAL,G.TelemetryInitializerFailed,"One of telemetry initializers failed, telemetry item will not be sent: "+se(i),{exception:Ee(i)},!0)}}e||m.processNext(a,o)},function(){return{item:a}},!a.sync)},m.trackEvent=function(e,t){try{var n=Bn.create(e,Gt.dataType,Gt.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(x.WARNING,G.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+se(r),{exception:Ee(r)})}},m.startTrackEvent=function(e){try{v.start(e)}catch(t){m.diagLog().throwInternal(x.CRITICAL,G.StartTrackEventFailed,"startTrackEvent failed, event will not be collected: "+se(t),{exception:Ee(t)})}},m.stopTrackEvent=function(e,t,n){try{v.stop(e,undefined,t)}catch(r){m.diagLog().throwInternal(x.CRITICAL,G.StopTrackEventFailed,"stopTrackEvent failed, event will not be collected: "+se(r),{exception:Ee(r)})}},m.trackTrace=function(e,t){try{var n=Bn.create(e,An.dataType,An.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(x.WARNING,G.TrackTraceFailed,"trackTrace failed, trace will not be collected: "+se(r),{exception:Ee(r)})}},m.trackMetric=function(e,t){try{var n=Bn.create(e,wn.dataType,wn.envelopeType,m.diagLog(),t);m.core.track(n)}catch(r){m.diagLog().throwInternal(x.CRITICAL,G.TrackMetricFailed,"trackMetric failed, metric will not be collected: "+se(r),{exception:Ee(r)})}},m.trackPageView=function(e,t){try{var n=e||{};m._pageViewManager.trackPageView(n,p(p(p({},n.properties),n.measurements),t)),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(n.name,n.uri)}catch(r){m.diagLog().throwInternal(x.CRITICAL,G.TrackPVFailed,"trackPageView failed, page view will not be collected: "+se(r),{exception:Ee(r)})}},m.sendPageViewInternal=function(e,t,n){var r=Ce();r&&(e.refUri=e.refUri===undefined?r.referrer:e.refUri);n=Bn.create(e,Pn.dataType,Pn.envelopeType,m.diagLog(),t,n);m.core.track(n)},m.sendPageViewPerformanceInternal=function(e,t,n){n=Bn.create(e,Fn.dataType,Fn.envelopeType,m.diagLog(),t,n);m.core.track(n)},m.trackPageViewPerformance=function(e,t){try{m._pageViewPerformanceManager.populatePageViewPerformanceEvent(e),m.sendPageViewPerformanceInternal(e,t)}catch(n){m.diagLog().throwInternal(x.CRITICAL,G.TrackPVFailed,"trackPageViewPerformance failed, page view will not be collected: "+se(n),{exception:Ee(n)})}},m.startTrackPage=function(e){try{var t;"string"!=typeof e&&(e=(t=Ce())&&t.title||""),y.start(e)}catch(n){m.diagLog().throwInternal(x.CRITICAL,G.StartTrackFailed,"startTrackPage failed, page view may not be collected: "+se(n),{exception:Ee(n)})}},m.stopTrackPage=function(e,t,n,r){try{var i,a;"string"!=typeof e&&(e=(i=Ce())&&i.title||""),"string"!=typeof t&&(t=(a=xe())&&a.href||""),y.stop(e,t,n,r),m.config.autoTrackPageVisitTime&&m._pageVisitTimeManager.trackPreviousPageVisit(e,t)}catch(o){m.diagLog().throwInternal(x.CRITICAL,G.StopTrackFailed,"stopTrackPage failed, page view will not be collected: "+se(o),{exception:Ee(o)})}},m.sendExceptionInternal=function(e,t,n){var r=e.exception||e.error||Error(Lt),e=new sn(m.diagLog(),r,e.properties||t,e.measurements,e.severityLevel,e.id).toInterface(),n=Bn.create(e,sn.dataType,sn.envelopeType,m.diagLog(),t,n);m.core.track(n)},m.trackException=function(e,t){try{m.sendExceptionInternal(e,t)}catch(n){m.diagLog().throwInternal(x.CRITICAL,G.TrackExceptionFailed,"trackException failed, exception will not be collected: "+se(n),{exception:Ee(n)})}},m._onerror=function(e){var t,n,r,i,a=e&&e.error,o=e&&e.evt;try{o||(t=Ie())&&(o=t[Hn]);var s=e&&e.url||(Ce()||{}).URL,l=e.errorSrc||"window.onerror@"+s+":"+(e.lineNumber||0)+":"+(e.columnNumber||0),c={errorSrc:l,url:s,lineNumber:e.lineNumber||0,columnNumber:e.columnNumber||0,message:e.message},u=e.message;e.url,e.lineNumber,e.columnNumber,e.error||!ne(u)||"Script error."!==u&&"Script error"!==u?(e.errorSrc||(e.errorSrc=l),m.trackException({exception:e,severityLevel:On.Error},c)):(n=sn.CreateAutoException("Script error: The browser's same-origin policy prevents us from getting the details of this exception. Consider using the 'crossorigin' attribute.",s,e.lineNumber||0,e.columnNumber||0,a,o,null,l),r=c,i=Bn.create(n,sn.dataType,sn.envelopeType,m.diagLog(),r),m.core.track(i))}catch(g){a=a?a.name+", "+a.message:"null";m.diagLog().throwInternal(x.CRITICAL,G.ExceptionWhileLoggingError,"_onError threw exception while logging error, error will not be collected: "+se(g),{exception:Ee(g),errorString:a})}},m.addTelemetryInitializer=function(e){m._telemetryInitializers.push(e)},m.initialize=function(e,t,n,r){if(!m.isInitialized()){if(H(t))throw Error("Error initializing");h.initialize(e,t,n,r),m.setInitialized(!1);var i=m._getTelCtx(),a=m.identifier;m.config=i.getExtCfg(a);r=Zn.getDefaultConfig(e);r!==undefined&&Q(r,function(e,t){m.config[e]=i.getConfig(a,e,t),m.config[e]===undefined&&(m.config[e]=t)}),m.config.isStorageUseDisabled&&(Mt=!1);r=function(){return m.config.isBrowserLinkTrackingEnabled||e.isBrowserLinkTrackingEnabled};m._pageViewPerformanceManager=new Kn(m.core),m._pageViewManager=new jn(C,m.config.overridePageViewDuration,m.core,m._pageViewPerformanceManager),m._pageVisitTimeManager=new zn(m.diagLog(),function(e,t,n){m.trackMetric({name:"PageVisitTime",average:n,max:n,min:n,sampleCount:1},{PageName:e,PageUrl:t})}),m._telemetryInitializers=m._telemetryInitializers||[],r()||(d=["/browserLinkSignalR/","/__browserLink/"],m._telemetryInitializers.push(function(e){if(e.baseType===Nn.dataType){var t=e.baseData;if(t)for(var n=0;n<d.length;n++)if(t.target&&~t.target.indexOf(d[n]))return!1}return!0})),(v=new Qn(m.diagLog(),"trackEvent")).action=function(e,t,n,r){(r=r||{})[Jn]=n.toString(),m.trackEvent({name:e,properties:r})},(y=new Qn(m.diagLog(),"trackPageView")).action=function(e,t,n,r,i){(r=H(r)?{}:r)[Jn]=n.toString(),m.sendPageViewInternal({name:e,uri:t,properties:r,measurements:i},r)};var s,o,l,c,u,g=Ie(),r=typeof history===S&&history?history:Te("history"),f=xe(!0),p=C;!1===m.config.disableExceptionTracking&&!m.config.autoExceptionInstrumented&&g&&(s=g.onerror,g.onerror=function(e,t,n,r,i){var a=g[Hn],o=s&&s(e,t,n,r,i);return!0!==o&&p._onerror(sn.CreateAutoException(e,t,n,r,i,a)),o},m.config.autoExceptionInstrumented=!0),!1===m.config.disableExceptionTracking&&!0===m.config.enableUnhandledPromiseRejectionTracking&&!m.config.autoUnhandledPromiseInstrumented&&g&&(o=g.onunhandledrejection,g.onunhandledrejection=function(e){var t=g[Hn],n=o&&o.call(g,e);return!0!==n&&p._onerror(sn.CreateAutoException(function(e){if(e&&e.reason){var t=e.reason;return!ne(t)&&Z(t.toString)?t.toString():Ee(t)}return e||""}(e),f?f.href:"",0,0,e,t)),n},m.config.autoUnhandledPromiseInstrumented=!0),!0===m.config.enableAutoRouteTracking&&r&&Z(r.pushState)&&Z(r.replaceState)&&g&&"undefined"!=typeof Event&&(l=C,re(n,function(e){"AppInsightsPropertiesPlugin"===e.identifier&&(T=e)}),r.pushState=(u=r.pushState,function(){var e=u.apply(this,arguments);return Xn(g,bt(l.config.namePrefix+"pushState")),Xn(g,bt(l.config.namePrefix+"locationchange")),e}),r.replaceState=(c=r.replaceState,function(){var e=c.apply(this,arguments);return Xn(g,bt(l.config.namePrefix+"replaceState")),Xn(g,bt(l.config.namePrefix+"locationchange")),e}),g.addEventListener&&(g.addEventListener(l.config.namePrefix+"popstate",function(){Xn(g,bt(l.config.namePrefix+"locationchange"))}),g.addEventListener(l.config.namePrefix+"locationchange",function(){var e;T&&T.context&&T.context.telemetryTrace&&(T.context.telemetryTrace.traceID=function(){for(var e,t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],n="",r=0;r<4;r++)n+=t[15&(e=yt())]+t[e>>4&15]+t[e>>8&15]+t[e>>12&15]+t[e>>16&15]+t[e>>20&15]+t[e>>24&15]+t[e>>28&15];var i=t[8+(3&yt())|0];return n.substr(0,8)+n.substr(9,4)+"4"+n.substr(13,3)+i+n.substr(16,3)+n.substr(19,12)}(),e="_unknown_",f&&f.pathname&&(e=f.pathname+(f.hash||"")),T.context.telemetryTrace.name=wt(l.diagLog(),e)),I&&(w=I),I=f&&f.href||"",setTimeout((function(e){l.trackPageView({refUri:e,properties:{duration:0}})}).bind(C,w),l.autoRoutePVDelay)}))),m.setInitialized(!0)}var d}}),C}var Qn=function(a,e){var o=this,s={};o.start=function(e){"undefined"!=typeof s[e]&&a.throwInternal(x.WARNING,G.StartCalledMoreThanOnce,"start was called more than once for this event without calling stop.",{name:e,key:e},!0),s[e]=+new Date},o.stop=function(e,t,n,r){var i=s[e];isNaN(i)?a.throwInternal(x.WARNING,G.StopCalledWithoutStart,"stop was called without a corresponding start.",{name:e,key:e},!0):(i=zt(i,+new Date),o.action(e,t,i,n,r)),delete s[e],s[e]=undefined}};e.ApplicationInsights=t,function(e,t,n){var r=Object.defineProperty;if(r)try{return r(e,t,n)}catch(i){}typeof n.value!==undefined&&(e[t]=n.value)}(e,"__esModule",{value:!0})};"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(((e="undefined"!=typeof globalThis?globalThis:e||self).Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{}));
//# sourceMappingURL=applicationinsights-analytics-js.min.js.map
